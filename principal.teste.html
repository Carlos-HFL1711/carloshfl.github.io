<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Carlos Henrique | Portf√≥lio</title>

<style>
/* ============================= VARS/TEMA ============================= */
:root{
  --header-h: 64px;
  --bg:#070b16;
  --card:#10183b;
  --surface:#0d1534;
  --text:#eaf2ff;
  --muted:#9bb0d3;
  --accent:#20d3ff;
  --brand:#7c4dff;
  --pill-bg:rgba(124,77,255,.16);
  --border:rgba(255,255,255,.10);
  --shadow:0 18px 40px rgba(0,0,0,.38);
  --ok:#00e6d1; --warn:#ffb24d; --err:#ff6b6b;
  --violet:#8b6cff; --baby:#89c9ff;
}
body.light{
  --bg:#f7f9ff; --card:#ffffff; --surface:#f2f5ff;
  --text:#1e2530; --muted:#647184;
  --accent:#2b8eff; --brand:#1f6ed6;
  --pill-bg:rgba(43,142,255,.12);
  --border:rgba(0,0,0,.10);
  --shadow:0 12px 28px rgba(0,0,0,.12);
}

/* ============================= BASE ============================= */
*,*::before,*::after{ box-sizing:border-box; }
html{ scroll-behavior:smooth; }
html,body{ overflow-x:hidden; touch-action:pan-y; overscroll-behavior-x:none; }
body{
  margin:0; color:var(--text); font-family:'Segoe UI',system-ui,Arial,sans-serif;
  background:
    radial-gradient(1200px 700px at 10% 10%, rgba(124,77,255,.18), transparent 60%),
    radial-gradient(900px 600px at 90% 90%, rgba(32,211,255,.12), transparent 60%),
    var(--bg);
  transition:background .35s,color .35s;
}
.container{ max-width:1100px; margin:0 auto; padding:0 16px; }
.muted{ color:var(--muted); }
img,svg,canvas{ max-width:100%; height:auto; display:block; }

/* Scroll lock total quando menu abre */
body.scroll-lock{ position:fixed; inset:0; overflow:hidden; width:100vw; height:100vh; }

/* ============================= HEADER ============================= */
header{
  position:sticky; top:0; z-index:2200;
  background:rgba(7,11,22,.60);
  border-bottom:1px solid rgba(255,255,255,.06);
  backdrop-filter:saturate(120%) blur(8px);
  padding-inline:14px;
}
body.light header{ background:var(--bg); border-bottom:1px solid var(--border); }

.pill-nav{ display:flex; align-items:center; justify-content:space-between; gap:12px; padding:10px 0; flex-wrap:wrap; }
.logo{
  font-weight:800; letter-spacing:-.2px; white-space:nowrap;
  background:linear-gradient(90deg,var(--brand),var(--accent) 60%);
  -webkit-background-clip:text; background-clip:text; color:transparent;
  font-size:clamp(18px,2.6vw,22px);
}
#primary-nav{
  display:flex; align-items:center; gap:8px; list-style:none; margin:0; padding:0; flex-wrap:wrap;
}
#primary-nav a{
  text-decoration:none; color:var(--text);
  padding:8px 12px; border-radius:999px; font-weight:800; font-size:clamp(12px,2.8vw,14px);
  border:1px solid transparent; transition:transform .12s, background .2s, color .2s, border-color .2s, box-shadow .2s;
}
#primary-nav a:hover{ transform:translateY(-1px); box-shadow:0 6px 16px rgba(32,211,255,.18); }
#primary-nav .pill{ background:var(--pill-bg); color:var(--accent); border-color:var(--border); }

/* Hamb√∫rguer + ‚ùå emoji */
.hamburger{
  background:transparent; border:0; cursor:pointer; width:46px; height:42px;
  border-radius:12px; display:grid; place-items:center; margin-right:6px; z-index:2400; position:relative;
}
.hamburger:hover{ background:rgba(255,255,255,.06); }
.hamburger span{
  width:26px; height:2px; background:#fff; display:block;
  margin:6px 0; transition:transform .22s,opacity .22s; box-shadow:0 0 0 1px rgba(0,0,0,.35);
}
.hamburger .emoji-close{ position:absolute; inset:0; display:none; align-items:center; justify-content:center; font-size:20px; }
.hamburger.active span{ display:none; }
.hamburger.active .emoji-close{ display:flex; }

/* Side menu (sociais/CV) */
#side-menu{
  position:fixed; top:var(--header-h); right:0;
  width:min(86%, 360px); height:calc(100vh - var(--header-h));
  background:var(--card); border-left:1px solid var(--border);
  box-shadow:-12px 0 28px rgba(0,0,0,.35);
  transform:translateX(100%); transition:transform .26s cubic-bezier(.2,.7,.2,1);
  padding:18px; display:flex; flex-direction:column; gap:12px; pointer-events:none; z-index:2300;
  list-style:none; margin:0;
}
#side-menu.open{ transform:translateX(0); pointer-events:auto; }
.menu-heading{ font-weight:900; opacity:.85; margin-top:6px; }
.menu-sep{ height:1px; background:var(--border); }
#side-menu a{ text-decoration:none; color:var(--text); font-weight:700; padding:8px 10px; border-radius:10px; }
#side-menu a:hover{ background:rgba(255,255,255,.06); }

/* Theme switch */
.menu-switch{ display:flex; align-items:center; gap:10px; }
#theme-switch{ position:absolute; opacity:0; width:0; height:0; }
.switch{ width:46px; height:26px; background:#3a4159; border-radius:999px; display:inline-block; position:relative; border:1px solid var(--border); cursor:pointer; }
.switch::before{ content:""; position:absolute; width:22px; height:22px; background:#fff; border-radius:50%; top:2px; left:2px; transition:transform .25s ease; }
#theme-switch:checked + .switch{ background:linear-gradient(90deg,var(--brand),var(--accent)); }
#theme-switch:checked + .switch::before{ transform:translateX(20px); }

/* Barra de leitura */
#scrollbar{ position:absolute; left:0; bottom:-1px; height:3px; width:0%; background:linear-gradient(90deg,var(--brand),var(--accent)); box-shadow:0 0 12px rgba(32,211,255,.45); }

/* ============================= BOT√ïES / UTILS ============================= */
.btn{
  display:inline-flex; align-items:center; gap:8px; border-radius:12px; padding:10px 14px; font-weight:900;
  text-decoration:none; border:1px solid var(--border); color:var(--text); background:var(--card);
  transition:transform .12s, background .2s, color .2s, border-color .2s, box-shadow .2s; cursor:pointer;
}
.btn:hover{ transform:translateY(-1px); }
.btn.primary{ background:linear-gradient(90deg,var(--brand),var(--accent)); color:#0a1020; border-color:transparent; box-shadow:0 10px 24px rgba(32,211,255,.28); }
.btn.ghost{ background:var(--pill-bg); color:var(--accent); }
.btn.ghost:hover{ background:var(--accent); color:#0a1020; }
.btn.small{ font-size:.92rem; padding:8px 12px; }
.btn.outline{ background:transparent; }
.badge{ display:inline-flex; align-items:center; gap:6px; font-weight:800; padding:6px 10px; border-radius:999px; border:1px solid var(--border); background:var(--surface); }

/* ====== "?" brancos e popovers ====== */
.help{
  width:32px; height:32px; display:flex; align-items:center; justify-content:center;
  border-radius:999px; background:transparent; color:#fff; border:2px solid #fff;
  font-weight:900; line-height:1; cursor:pointer;
}
.help-pop{
  position:fixed; z-index:4000; max-width:260px; padding:10px 12px; border-radius:12px;
  background:rgba(7,11,22,.92); border:1px solid rgba(255,255,255,.18); color:#eaf2ff;
  box-shadow:0 18px 40px rgba(0,0,0,.45); font-size:.92rem; line-height:1.35; display:none;
}
.help-pop.show{ display:block; }
.help-pop h4{ margin:0 0 6px; font-size:1rem }
.help-pop .x{ position:absolute; top:6px; right:8px; background:transparent; border:0; color:#fff; font-size:16px; cursor:pointer; }

/* ============================= SE√á√ïES / HERO ============================= */
.section{ padding:56px 0; opacity:0; transform:translateY(28px); transition:opacity .7s ease, transform .7s ease; }
.section.visible{ opacity:1; transform:translateY(0); }

.hero{
  display:grid; grid-template-columns:1.2fr .9fr; gap:28px; align-items:center; min-height: clamp(420px, 72vh, 680px);
}
.hero .lead{ color:var(--muted); }

.hero-stats{ display:flex; gap:22px; align-items:baseline; flex-wrap:wrap; margin:16px 0 0; }
.stat b{
  display:inline-block; font: 900 clamp(32px,7vw,56px)/1 'Segoe UI',system-ui,sans-serif;
  letter-spacing:-.5px;
  background:linear-gradient(90deg,#62a6ff,#7c4dff 40%,#20d3ff);
  -webkit-background-clip:text; background-clip:text; color:transparent;
  filter:drop-shadow(0 6px 14px rgba(32,211,255,.15));
}
.stat small{ margin-left:8px; font-size:clamp(14px,2.8vw,16px); color:var(--muted); }

.hero-art{ position:relative; min-height:360px; }
.spin-orbs{ position:absolute; inset:0; display:grid; place-items:center; }
.orb{
  position:absolute; inset:0; margin:auto; width:300px; height:300px; border-radius:50%;
  border:2px dashed rgba(255,255,255,.18); animation:spin 12s linear infinite; animation-play-state:paused;
  box-shadow: 0 0 0 0 rgba(32,211,255,.18); transition: box-shadow .3s ease;
}
.orb:nth-child(2){ width:220px; height:220px; animation-duration:9s; }
.orb:nth-child(3){ width:140px; height:140px; animation-duration:6s; }
.orb::after{
  content:""; position:absolute; top:-6px; left:50%; transform:translateX(-50%);
  width:12px; height:12px; border-radius:50%; background:linear-gradient(90deg,var(--brand),var(--accent));
  box-shadow:0 0 18px rgba(32,211,255,.6);
}
@keyframes spin{ to{ transform:rotate(360deg) } }
.hero-art.play .orb{ animation-play-state:running; }
.hero-art.play .orb:nth-child(1){ box-shadow: 0 0 60px 6px rgba(32,211,255,.08) inset; }

/* ============================= MINI HIST√ìRIA (aba com Ver mais) ============================= */
.story-mini{ margin-top: -10px; }
.story-box{
  background:var(--card); border:1px solid var(--border); border-radius:16px; box-shadow:var(--shadow); padding:14px;
}
.story-head{ display:flex; align-items:center; justify-content:space-between; gap:10px; margin-bottom:8px; flex-wrap:wrap; }
.story-left{ display:flex; align-items:center; gap:10px; }
.story-avatar{
  width:36px; height:36px; border-radius:50%; display:grid; place-items:center; font-weight:900; color:#0a1020;
  background:linear-gradient(135deg,var(--brand),var(--accent)); box-shadow:0 6px 16px rgba(0,0,0,.25);
}
.story-title{ margin:0; }
.story-msg{ position:relative; background:rgba(255,255,255,.03); border:1px solid var(--border); border-radius:12px; padding:10px 12px; }
.story-msg + .story-msg{ margin-top:8px; }
.story-more{ overflow:hidden; max-height:0; opacity:.2; transition:max-height .35s ease, opacity .28s ease, margin-top .28s; }
.story-mini.open .story-more{ max-height:500px; opacity:1; margin-top:8px; }
.story-toggle{ border-radius:12px; padding:8px 12px; font-weight:900; border:1px solid var(--border); background:var(--surface); color:var(--text); cursor:pointer; }
.story-toggle .chev{ display:inline-block; transition:transform .2s; }
.story-mini.open .story-toggle .chev{ transform:rotate(180deg); }

/* ============================= MICRO-CARDS (ANTES DOS PROMPTS) ============================= */
.ui-row{ display:grid; gap:16px; grid-template-columns:repeat(3,1fr); }
.ui-card{
  position:relative; overflow:hidden; border-radius:16px; border:1px solid var(--border); background:var(--card);
  padding:16px; box-shadow:var(--shadow); transition:transform .18s ease, box-shadow .18s ease;
}
.ui-card:hover{ transform:translateY(-3px); box-shadow:0 18px 40px rgba(0,0,0,.35); }
.ui-card .shine{ position:absolute; inset:-40% -40% auto auto; width:160%; height:80%; transform:rotate(18deg);
  background:linear-gradient(90deg, transparent, rgba(255,255,255,.10), transparent); animation:shine 2.8s linear infinite; }
@keyframes shine{ to{ transform:translateX(-30%) rotate(18deg) } }

/* ============================= BANNERS ANIMADOS (NOVOS) ============================= */
.anim-banners{ display:grid; gap:16px; grid-template-columns:repeat(3,1fr); }
.ban{
  position:relative; overflow:hidden; border-radius:16px; border:1px solid var(--border);
  min-height:140px; color:#fff; display:flex; align-items:flex-end; padding:16px; box-shadow:var(--shadow);
}
.ban h3{ margin:0; z-index:1 }
.ban p{ margin:4px 0 0; z-index:1; opacity:.9 }
.ban-aurora::before{
  content:""; position:absolute; inset:-40%; background:
    conic-gradient(from 0deg, rgba(124,77,255,.32), rgba(32,211,255,.28), rgba(124,77,255,.32), rgba(32,211,255,.28));
  animation:aurora 16s linear infinite; filter:blur(18px);
}
.ban-aurora::after{
  content:""; position:absolute; inset:0; background:radial-gradient(1200px 600px at 80% 20%, rgba(255,255,255,.10), transparent 60%);
  mask:radial-gradient(400px 200px at 30% 40%, #000 30%, transparent 70%);
  animation:star 6s ease-in-out infinite alternate;
}
@keyframes aurora{ to{ transform:rotate(360deg) } }
@keyframes star{ from{ transform:translateY(-6px)} to{ transform:translateY(6px)} }

/* 2) Blobs (morph) */
.ban-blobs{ background:linear-gradient(180deg, rgba(124,77,255,.14), rgba(32,211,255,.10)); }
.ban-blobs::before,.ban-blobs::after{
  content:""; position:absolute; width:220px; height:220px; border-radius:40% 60% 55% 45%/40% 45% 55% 60%;
  filter:blur(14px);
}
.ban-blobs::before{ left:-40px; top:-60px; background:radial-gradient(closest-side, rgba(139,108,255,.65), transparent); animation:blob1 10s ease-in-out infinite; }
.ban-blobs::after{ right:-60px; bottom:-60px; background:radial-gradient(closest-side, rgba(137,201,255,.65), transparent); animation:blob2 12s ease-in-out infinite; }
@keyframes blob1{ 0%,100%{ transform:translate(0,0) rotate(0deg) scale(1) } 50%{ transform:translate(40px,20px) rotate(20deg) scale(1.1) } }
@keyframes blob2{ 0%,100%{ transform:translate(0,0) rotate(0deg) scale(1) } 50%{ transform:translate(-30px,-10px) rotate(-18deg) scale(1.06) } }

/* 3) Waves (faixas deslocando) */
.ban-waves{
  background:
    linear-gradient(180deg, rgba(124,77,255,.10), rgba(32,211,255,.10)),
    repeating-linear-gradient(135deg, rgba(255,255,255,.06) 0 14px, rgba(255,255,255,.02) 14px 28px);
}
.ban-waves::before{
  content:""; position:absolute; inset:-20%; background:
    radial-gradient(800px 300px at 20% 20%, rgba(124,77,255,.25), transparent 60%),
    radial-gradient(700px 300px at 80% 80%, rgba(32,211,255,.20), transparent 60%);
  animation:waves 8s linear infinite; mix-blend-mode:screen;
}
@keyframes waves{ to{ transform:translateX(-10%) } }

@media (max-width:900px){ .anim-banners{ grid-template-columns:1fr; } }

/* ============================= INFO-TOGGLE (üì© bot√£o) ============================= */
.info-toggle{ display:grid; gap:10px; }
.info-trigger{
  display:flex; align-items:center; justify-content:space-between; gap:10px; width:100%; flex-wrap:wrap;
  background:linear-gradient(180deg, rgba(124,77,255,.10), transparent 40%), var(--card);
  border:1px solid var(--border); border-radius:14px; padding:12px 14px; box-shadow:var(--shadow);
  cursor:pointer; font-weight:900;
}
.info-left{ display:flex; gap:10px; align-items:center; }
.info-emoji{ font-size:22px; }
.info-badge{ display:flex; gap:8px; align-items:center; margin-left:auto; flex-shrink:0; }
.pill-dot{
  width:8px; height:8px; border-radius:50%;
  background:#fff; box-shadow:0 0 0 3px rgba(255,255,255,.25) inset, 0 0 18px rgba(255,255,255,.45);
  animation:pulseDot 1.1s ease-in-out infinite;
}
@keyframes pulseDot{ 0%,100%{ transform:scale(.9); opacity:.6 } 50%{ transform:scale(1.15); opacity:1 } }
.badge-mini{
  font:800 12px/1 'Segoe UI',sans-serif;
  padding:6px 8px; border-radius:999px;
  border:1px solid rgba(255,255,255,.55);
  background:rgba(255,255,255,.10);
  color:#fff;
}
.info-panel{
  overflow:hidden; max-height:0; opacity:0; border:1px solid var(--border); border-radius:14px; padding:0 14px;
  background:var(--card); transition:max-height .35s ease, opacity .28s ease, padding .2s ease;
}
.info-panel.open{ max-height:380px; opacity:1; padding:14px; }

/* ============================= ASSISTENTE (ROB√î CARLOS) ============================= */
.assistant{ display:grid; gap:16px; grid-template-columns: .9fr 1.1fr; align-items:stretch; }
@media (max-width:900px){ .assistant{ grid-template-columns:1fr; } }
.bot-mini{
  position:relative; border:1px solid var(--border); border-radius:16px; background:var(--surface); padding:18px; overflow:hidden;
}
.bot-mini .spark{ position:absolute; inset:-20%; background:
  radial-gradient(300px 200px at 20% 20%, rgba(124,77,255,.20), transparent 60%),
  radial-gradient(260px 180px at 80% 80%, rgba(32,211,255,.16), transparent 60%);
  filter:blur(10px); animation:floatY 6s ease-in-out infinite alternate; }
@keyframes floatY{ from{ transform:translateY(-8px)} to{ transform:translateY(8px)} }
.mbot{ width:min(320px, 100%); margin:0 auto; display:block; filter:drop-shadow(0 14px 24px rgba(0,0,0,.35)); }
.mbot .blink{ transform-origin:50% 50%; animation:blink 3.2s linear infinite; }
@keyframes blink{ 0%,92%{ transform:scaleY(1)} 96%{ transform:scaleY(.1)} 100%{ transform:scaleY(1)} }
.mbot .float{ animation:botFloat 5.6s ease-in-out infinite; }
@keyframes botFloat{ 0%,100%{ transform:translateY(0)} 50%{ transform:translateY(-8px)} }

/* bot√£o secreto sobre o rob√¥ */
.bot-secret{ position:absolute; inset:0; background:transparent; border:0; cursor:pointer; }
.bot-secret:focus-visible{ outline:3px solid color-mix(in srgb, var(--accent) 45%, transparent); border-radius:12px; }

/* Chat mini */
.chat{
  display:grid; grid-template-rows:auto 1fr auto; gap:10px;
  border:1px solid var(--border); border-radius:16px; background:var(--card); padding:14px; box-shadow:var(--shadow);
}
.chat-head{ display:flex; align-items:center; justify-content:space-between; flex-wrap:wrap; gap:8px; }
.chat-log{ overflow:auto; max-height:320px; display:grid; gap:8px; }
.msg{ display:inline-block; max-width:min(80%, 560px); padding:10px 12px; border-radius:12px; border:1px solid var(--border); }
.msg.bot{ background:var(--surface); }
.msg.me{ background:rgba(32,211,255,.10); border-color:rgba(32,211,255,.25); margin-left:auto; }
.msg small{ display:block; opacity:.75; margin-top:4px; }
.chat-input{ display:flex; gap:8px; }
.chat-input input{ flex:1; padding:10px 12px; border-radius:12px; border:1px solid var(--border); background:var(--surface); color:var(--text); }
.quick{ display:flex; gap:8px; flex-wrap:wrap; }

/* Dock flutuante do rob√¥ (fora da viewport) */
#bot-dock{
  position:fixed; right:12px; top:50%; transform:translateY(-50%);
  width:48px; height:48px; border-radius:50%; border:1px solid var(--border); background:linear-gradient(135deg,var(--brand),var(--accent));
  color:#081226; font-weight:900; box-shadow:0 12px 28px rgba(0,0,0,.38); display:none; z-index:2600; cursor:pointer;
}
#bot-dock.peek{ width:280px; height:auto; border-radius:16px; padding:12px; display:block; }
#bot-dock .peek-inner{ display:none; color:#eaf2ff; }
#bot-dock.peek .peek-inner{ display:block; }
#bot-dock.peek .open{ margin-top:8px }

/* Overlay full (mini-p√°gina) */
#support-full{
  position:fixed; inset:0; z-index:3000; display:none;
  background:
    radial-gradient(1200px 600px at 15% 15%, rgba(124,77,255,.18), transparent 60%),
    radial-gradient(1200px 600px at 85% 85%, rgba(32,211,255,.18), transparent 60%),
    rgba(7,11,22,.92);
  backdrop-filter:saturate(120%) blur(6px);
}
#support-full.show{ display:grid; place-items:center; }
.full-box{
  width:min(920px, 94vw); height:min(640px, 86vh); display:grid; grid-template-rows:auto 1fr auto; gap:10px;
  border:1px solid rgba(255,255,255,.18); border-radius:16px; background:var(--card); box-shadow:var(--shadow); padding:14px; position:relative;
}
.full-head{ display:flex; align-items:center; justify-content:space-between; gap:10px; }
.full-close{ background:transparent; border:0; color:#fff; font-size:22px; cursor:pointer; }
.full-log{ overflow:auto; background:#0a0f22; border:1px solid rgba(255,255,255,.08); border-radius:10px; padding:12px; }
.full-input{ display:flex; gap:8px; }
.full-input input{ flex:1; padding:10px 12px; border-radius:12px; border:1px solid var(--border); background:var(--surface); color:var(--text); }

/* ============================= PROMPTS ‚Äì ESTILO GERAL ============================= */
.stack{ display:grid; gap:18px; margin-top:18px; }
.card{ background:var(--card); border:1px solid var(--border); border-radius:16px; padding:14px; box-shadow:var(--shadow); }
.card.head{ display:flex; align-items:center; justify-content:space-between; gap:10px; }

/* Prompt 1 ‚Äì Mem√≥ria (BOTS) */
.mem-wrap{ display:grid; gap:10px; }
.mem-bar{ height:14px; border-radius:10px; background:rgba(255,255,255,.08); overflow:hidden; border:1px solid var(--border); }
.mem-fill{ height:100%; width:23%; background:linear-gradient(90deg, var(--brand), var(--accent)); transition:width .45s ease, background .25s ease; }
.mem-legend{ display:flex; gap:10px; flex-wrap:wrap; align-items:center; }
.log-mini{ font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace; font-size:12px; opacity:.9; }

/* Prompt 2 ‚Äì Filtros */
.filters{ display:flex; gap:10px; flex-wrap:wrap; align-items:center; }
.filters label{ display:inline-flex; gap:8px; align-items:center; padding:6px 10px; border-radius:999px; border:1px solid var(--border); background:var(--surface); cursor:pointer; }

/* Prompt 3 ‚Äì Logs em tempo real (CMD) */
.cmd{
  background:#000; color:#d6e0ff; border-radius:14px; border:1px solid rgba(255,255,255,.12);
  box-shadow:0 16px 40px rgba(0,0,0,.35); overflow:hidden; position:relative;
}
.cmd::before{
  content:""; position:absolute; inset:-2px; border-radius:16px;
  background:conic-gradient(from 0deg, rgba(124,77,255,.25), rgba(32,211,255,.25), transparent 40%);
  filter:blur(18px); z-index:0; animation:spin 16s linear infinite;
}
.cmd-inner{ position:relative; z-index:1; }
.cmd-head{ display:flex; gap:8px; align-items:center; justify-content:space-between; padding:10px 12px; border-bottom:1px solid rgba(255,255,255,.08); }
.cmd-head .dots{ display:flex; gap:6px; }
.dot{ width:10px; height:10px; border-radius:50%; background:#ff5f56; }
.dot:nth-child(2){ background:#ffbd2e } .dot:nth-child(3){ background:#27c93f }
.cmd-body{ max-height:320px; overflow:auto; padding:12px; font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace; font-size:13px; line-height:1.45; }
.cmd-controls{ display:flex; gap:10px; flex-wrap:wrap; padding:10px 12px; border-top:1px solid rgba(255,255,255,.08); }
.cmd .btn{ border-color:rgba(255,255,255,.12); background:#0b0b0b; color:#e0ecff; }

/* ============================= PROMPT CFTV ============================= */
.cftv{ position:relative; border-radius:16px; overflow:hidden; border:1px solid var(--border); box-shadow:var(--shadow); }
.cftv-bg{
  content:""; position:absolute; inset:-20px; z-index:0;
  background:
    radial-gradient(700px 400px at 10% 10%, rgba(139,108,255,.28), transparent 60%),
    radial-gradient(600px 360px at 90% 90%, rgba(137,201,255,.25), transparent 60%);
  filter: blur(10px);
  animation: cftvFloat 8s ease-in-out infinite alternate;
}
@keyframes cftvFloat{ from{ transform:translateY(-6px) } to{ transform:translateY(6px) } }
.cftv > .cmd{ margin:0; }
.kpi-grid{ display:grid; gap:12px; grid-template-columns: repeat(auto-fit, minmax(170px,1fr)); margin-top:12px; }
.kpi{ background:var(--card); border:1px solid var(--border); border-radius:12px; padding:12px; text-align:center; }
.kpi b{ font-size:1.2rem; display:block; }
.chart-row{ display:grid; gap:14px; grid-template-columns:1.2fr .8fr; }
@media (max-width:900px){ .hero{ grid-template-columns:1fr; } .chart-row{ grid-template-columns:1fr; } }

.table{
  width:100%; border-collapse:separate; border-spacing:0; overflow:hidden;
  background:var(--card); border:1px solid var(--border); border-radius:12px; box-shadow:var(--shadow);
}
.table th,.table td{ padding:10px 12px; border-bottom:1px solid var(--border); }
.table th{ text-align:left; font-weight:800; }
.table tr:last-child td{ border-bottom:0; }

/* ============================= MICRO-CARDS (DEPOIS DOS PROMPTS) ============================= */
.after-ui{ display:grid; gap:16px; grid-template-columns:repeat(3,1fr); }
.after-ui .ui-card{ min-height:120px; }
@media (max-width:900px){ .ui-row,.after-ui{ grid-template-columns:1fr; } }

/* ============================= Floaters ============================= */
.fab-contact{
  position:fixed; right:16px; bottom:16px; z-index:2500;
  background:linear-gradient(90deg,var(--brand),var(--accent));
  color:#0a1020; text-decoration:none; padding:12px 18px; border-radius:999px; font-weight:900;
  box-shadow:0 10px 24px rgba(0,0,0,.35); border:1px solid transparent;
  display:flex; gap:8px; align-items:center; transition:opacity .2s, transform .15s;
}
.fab-contact.dim{ opacity:.6; }
#to-top{
  position:fixed; right:16px; bottom:86px; z-index:2500; opacity:0; transform:translateY(10px);
  background:linear-gradient(90deg,var(--brand),var(--accent)); color:#0a1020; border:0; border-radius:999px; padding:10px 14px; font-weight:900; cursor:pointer;
  box-shadow:0 10px 24px rgba(32,211,255,.28); transition:opacity .2s, transform .2s;
}
#to-top.show{ opacity:1; transform:none; }

footer{ text-align:center; padding:28px 0; color:var(--muted); }

/* Acessibilidade */
:focus-visible{ outline:3px solid color-mix(in srgb, var(--accent) 45%, transparent); outline-offset:2px; border-radius:10px; }

/* ====== Avalia√ß√µes (refinado + ver mais) ====== */
.rate-summary{
  display:flex; align-items:center; justify-content:space-between; gap:16px; flex-wrap:wrap;
  padding:14px; border:1px solid var(--border); border-radius:16px; background:linear-gradient(180deg, rgba(124,77,255,.08), transparent 50%), var(--card);
  box-shadow:var(--shadow);
}
.rate-left{ display:flex; align-items:center; gap:12px; }
.rate-text{ display:grid; gap:2px; }
.rate-num{ font-size:clamp(1.1rem, 1.8vw, 1.4rem); }
.rate-right{ display:flex; align-items:center; gap:10px; flex-wrap:wrap; margin-left:auto; }
.lv-wrap{ display:flex; gap:6px; flex-wrap:wrap; }
.lv{ padding:6px 10px; border-radius:999px; border:1px solid var(--border);
     background:var(--surface); font-weight:900; font-size:.92rem; }

.reviews-grid{
  display:grid; gap:14px;
  grid-template-columns:repeat(auto-fit,minmax(280px,1fr));
  margin-top:12px;
}
.rev{
  display:grid; grid-template-columns:auto 1fr; gap:12px;
  border:1px solid var(--border); border-radius:16px; background:var(--card);
  padding:14px; box-shadow:var(--shadow); transition:transform .16s ease, box-shadow .16s ease, border-color .2s ease;
}
.rev:hover{ transform:translateY(-2px); box-shadow:0 18px 40px rgba(0,0,0,.35); border-color:color-mix(in srgb, var(--accent) 25%, var(--border)); }
.rev .avatar{
  width:48px; height:48px; border-radius:50%; flex-shrink:0;
  background:#c9cfdb; display:grid; place-items:center; overflow:hidden;
  border:2px solid rgba(255,255,255,.35);
  box-shadow:0 0 0 4px rgba(124,77,255,.12);
}
.rev .avatar svg{ width:70%; height:70%; opacity:.9; }
.rev .name{ font-weight:900; letter-spacing:.1px; }
.rev .meta{ display:flex; align-items:center; gap:10px; flex-wrap:wrap; }
.rev .txt{ color:var(--muted); margin-top:6px; line-height:1.5; }

.stars{ --score:5; position:relative; display:inline-block; line-height:1; font-size:16px; letter-spacing:3px; user-select:none; white-space:nowrap; }
.stars.big{ font-size:22px; letter-spacing:4px; }
.stars::before{ content:'‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ'; color:rgba(255,255,255,.22); }
.stars::after{ content:'‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ'; color:#ffd36b; position:absolute; left:0; top:0; width:calc((var(--score)/5) * 100%); overflow:hidden; }
.tag-note{ padding:4px 8px; border-radius:999px; font-weight:800; border:1px solid var(--border); background:var(--surface); font-size:.86rem; }

/* fundos animados em alguns coment√°rios */
.rev.aurora::before,.rev.blobs::before,.rev.waves::before{
  content:""; position:absolute; inset:-12px; z-index:-1; filter:blur(10px); opacity:.6;
}
.rev.aurora::before{ background:conic-gradient(from 0deg, rgba(124,77,255,.20), rgba(32,211,255,.18), rgba(124,77,255,.20)); animation:aurora 16s linear infinite; }
.rev.blobs::before{
  background:
    radial-gradient(closest-side, rgba(139,108,255,.35), transparent 60%) -20px -20px/220px 220px no-repeat,
    radial-gradient(closest-side, rgba(137,201,255,.35), transparent 60%) calc(100% + 20px) calc(100% + 20px)/220px 220px no-repeat;
  animation:blob1 10s ease-in-out infinite;
}
.rev.waves::before{
  background:
    radial-gradient(800px 300px at 20% 20%, rgba(124,77,255,.18), transparent 60%),
    radial-gradient(700px 300px at 80% 80%, rgba(32,211,255,.16), transparent 60%);
  animation:waves 8s linear infinite;
}

/* card "ver mais coment√°rios" */
.see-more{
  display:grid; place-items:center; text-align:center; padding:16px;
  border:1px dashed var(--border); border-radius:16px; background:var(--surface);
  font-weight:900; cursor:pointer; box-shadow:var(--shadow);
}
.see-more:hover{ transform:translateY(-1px); }
</style>
</head>

<body>
  <!-- ============================= HEADER ============================= -->
  <header>
    <nav class="pill-nav">
      <div class="logo">Carlos Henrique</div>

      <!-- Links ao lado do nome -->
      <ul id="primary-nav">
        <li><a class="pill" href="portfolio.html">Portf√≥lio</a></li>
        <li><a class="pill" href="sobre.html">Sobre</a></li>
        <li><a class="pill" href="projetos.html">Projetos</a></li>
      </ul>

      <!-- Hamb√∫rguer com ‚ùå embutido -->
      <button id="burger" class="hamburger" aria-label="Abrir menu" aria-expanded="false">
        <span></span><span></span><span></span>
        <div class="emoji-close" aria-hidden="true">‚ùå</div>
      </button>

      <!-- Painel lateral: sociais/CV + theme -->
      <ul id="side-menu" aria-hidden="true">
        <li class="menu-heading">Outros links</li>
        <li><a href="https://www.linkedin.com/" target="_blank" rel="noopener">LinkedIn</a></li>
        <li><a href="https://github.com/" target="_blank" rel="noopener">GitHub</a></li>
        <li><a href="cv.pdf" target="_blank" rel="noopener">Curr√≠culo (PDF)</a></li>
        <li class="menu-sep"></li>
        <li class="menu-switch">
          <input type="checkbox" id="theme-switch" checked />
          <label class="switch" for="theme-switch"></label>
          <span class="switch-label">Tema escuro</span>
        </li>
      </ul>
    </nav>
    <div id="scrollbar"></div>
  </header>

  <!-- ============================= HERO ============================= -->
  <main id="inicio" class="container">
    <section class="section hero">
      <div>
        <h1 style="margin:0 0 6px">Sites modernos, r√°pidos e com detalhe.</h1>
        <p class="lead">Web Design, Front-End, automa√ß√£o em Python e suporte T.I. ‚Äî visual + performance.</p>

        <!-- contadores grandes -->
        <div class="hero-stats" id="hero-stats">
          <div class="stat"><b id="h-projetos">+0</b><small>projetos</small></div>
          <div class="stat"><b id="h-anos">+0</b><small>anos</small></div>
          <div class="stat"><b id="h-satisfacao">0%</b><small>satisfa√ß√£o</small></div>
        </div>

        <!-- chips rolantes -->
        <div class="chips-bar" aria-hidden="true" style="margin-top:14px">
          <div class="chips-track">
            <span class="chip">UI/UX</span><span class="chip">Acessibilidade</span><span class="chip">SEO</span>
            <span class="chip">Automa√ß√£o</span><span class="chip">APIs</span><span class="chip">CFTV</span>
            <span class="chip">Landing</span><span class="chip">Dashboards</span><span class="chip">Webhooks</span>
          </div>
        </div>
      </div>

      <!-- arte com c√≠rculos -->
      <div class="hero-art" id="hero-art" aria-hidden="true">
        <div class="spin-orbs">
          <div class="orb"></div><div class="orb"></div><div class="orb"></div>
        </div>
      </div>
    </section>

    <!-- ===== MINI ‚ÄúMINHA HIST√ìRIA‚Äù (aba) ‚Äì abaixo do HERO ===== -->
    <section class="section story-mini" id="mini-historia">
      <div class="story-box">
        <div class="story-head">
          <div class="story-left">
            <div class="story-avatar">CH</div>
            <div>
              <h2 class="story-title">Minha hist√≥ria</h2>
              <small class="muted">Carlos Henrique ‚Äî do primeiro HTML aos projetos com IA</small>
            </div>
          </div>
          <button class="story-toggle" id="story-mini-toggle" type="button" aria-expanded="false" aria-controls="story-mini-more">
            Ver mais <span class="chev">‚ñæ</span>
          </button>
        </div>
        <div class="story-msg">Comecei aos <b>14 anos</b>, estudando HTML, design e como deixar p√°ginas leves e acess√≠veis.</div>
        <div class="story-msg">Participei de iniciativas como a <b>YouthSpark (Microsoft)</b>, abrindo portas para projetos reais.</div>
        <div class="story-more" id="story-mini-more">
          <div class="story-msg">Atuo com <b>UI/UX</b>, <b>landing pages</b> e front-end focado em convers√£o e performance.</div>
          <div class="story-msg">Tenho experi√™ncia em <b>automa√ß√µes</b>, integra√ß√µes <b>API</b>, <b>CFTV</b> e aplica√ß√µes de <b>Machine Learning</b>.</div>
          <div class="story-msg">Tamb√©m fa√ßo <b>pintura pl√°stica</b> e <b>pintura digital por encomenda</b> ‚Äî est√©tica que levo pro design.</div>
        </div>
      </div>
    </section>

    <!-- ============================= MICRO-CARDS (ANTES DOS PROMPTS) ============================= -->
    <section class="section">
      <div class="ui-row">
        <div class="ui-card">
          <div class="shine"></div>
          <h3 style="margin:0 0 6px">Performance</h3>
          <p class="muted">Sites com notas altas no PageSpeed e carregamento inteligente.</p>
        </div>
        <div class="ui-card">
          <div class="shine"></div>
          <h3 style="margin:0 0 6px">Acessibilidade</h3>
          <p class="muted">Componentes com foco, contraste e navega√ß√£o por teclado.</p>
        </div>
        <div class="ui-card">
          <div class="shine"></div>
          <h3 style="margin:0 0 6px">Automa√ß√£o</h3>
          <p class="muted">Bots, ETL e integra√ß√µes que economizam tempo da equipe.</p>
        </div>
      </div>
    </section>

    <!-- ============================= BANNERS ANIMADOS (NOVOS) ============================= -->
    <section class="section">
      <div class="anim-banners">
        <div class="ban ban-aurora">
          <div>
            <h3>Aurora din√¢mica</h3>
            <p class="muted">Conic + brilho ‚Äî tom roxo/azul com varia√ß√£o cont√≠nua.</p>
          </div>
        </div>
        <div class="ban ban-blobs">
          <div>
            <h3>Blobs org√¢nicos</h3>
            <p class="muted">Formas male√°veis ‚Äî contraste suave e fluido.</p>
          </div>
        </div>
        <div class="ban ban-waves">
          <div>
            <h3>Waves em camadas</h3>
            <p class="muted">Faixas diagonais com deslocamento e luz suave.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- ============================= INFO ‚Äì bot√£o üì© que abre texto ============================= -->
    <section class="section info-toggle">
      <button id="info-trigger" class="info-trigger" aria-expanded="false" aria-controls="info-panel">
        <div class="info-left"><span class="info-emoji">üì©</span> <span>Relat√≥rios em tempo real</span></div>
        <div class="info-badge">
          <span class="badge-mini"><span class="pill-dot"></span> Atividade</span>
          <span class="badge-mini" id="mini-rate">~0 msg/s</span>
        </div>
      </button>
      <div id="info-panel" class="info-panel" hidden>
        <p class="muted" style="margin:0">
          Abaixo voc√™ acompanha a <b>mem√≥ria de bots</b>, <b>filtros por tipo</b> e os <b>logs em tempo real</b>.
          Tamb√©m h√° um painel de <b>CFTV</b> simulando DVRs, c√¢meras e detec√ß√µes. Tudo em portugu√™s e
          focado em transpar√™ncia de que o sistema est√° 100% funcional.
        </p>
      </div>
    </section>

    <!-- ============================= ASSISTENTE ü§ñ (ROB√î CARLOS) ============================= -->
    <section class="section assistant" id="assistente">
      <div class="bot-mini">
        <div class="spark" aria-hidden="true"></div>
        <!-- robozinho SVG -->
        <svg class="mbot" viewBox="0 0 300 220" role="img" aria-label="Rob√¥ Carlos">
          <defs>
            <linearGradient id="rg" x1="0" x2="1" y1="0" y2="1">
              <stop offset="0%" stop-color="#7c4dff"/><stop offset="100%" stop-color="#20d3ff"/>
            </linearGradient>
          </defs>
          <g class="float">
            <rect x="90" y="40" width="120" height="90" rx="16" fill="url(#rg)" />
            <rect x="105" y="18" width="90" height="34" rx="12" fill="#1a2246" stroke="rgba(255,255,255,.25)"/>
            <g transform="translate(120,28)">
              <rect x="0" y="0" width="60" height="14" rx="7" fill="#0b1026"/>
              <g class="blink">
                <circle cx="18" cy="7" r="4" fill="#eaf2ff"/>
                <circle cx="42" cy="7" r="4" fill="#eaf2ff"/>
              </g>
            </g>
            <rect x="60" y="130" width="180" height="18" rx="9" fill="rgba(255,255,255,.18)"/>
          </g>
        </svg>
        <!-- bot√£o secreto que abre a mini-p√°gina -->
        <button class="bot-secret" id="bot-secret" aria-label="Abrir suporte (Rob√¥ Carlos)"></button>
        <p class="muted" style="margin:8px 0 0">Ol√°! Sou o <b>Rob√¥ Carlos</b> ‚Äî posso te guiar üîé</p>
      </div>

      <div class="chat">
        <div class="chat-head">
          <strong>Rob√¥ Carlos ‚Äî ajuda r√°pida</strong>
          <div class="quick">
            <span class="chip" data-q="1">1</span>
            <span class="chip" data-q="2">2</span>
            <span class="chip" data-q="3">3</span>
            <span class="chip" data-q="4">4</span>
            <span class="chip" data-q="5">5</span>
            <span class="chip" data-q="6">6</span>
          </div>
        </div>
        <div id="chat-log" class="chat-log" aria-live="polite"></div>
        <form id="chat-form" class="chat-input">
          <input id="chat-input" type="text" placeholder="Digite um n√∫mero (ex.: 1) ou sua d√∫vida" autocomplete="off">
          <button class="btn primary" type="submit">Enviar</button>
        </form>
      </div>
    </section>

    <!-- dock do rob√¥ (aparece quando o assistente sai da viewport) -->
    <button id="bot-dock" title="Rob√¥ Carlos">
      ü§ñ
      <div class="peek-inner">
        <div><b>Rob√¥ Carlos</b><br><span class="muted">Precisa de ajuda?</span></div>
        <button class="btn primary open" id="dock-open" type="button">Abrir suporte</button>
      </div>
    </button>

    <!-- overlay (mini-p√°gina) -->
    <section id="support-full" aria-hidden="true">
      <div class="full-box">
        <div class="full-head">
          <strong>Rob√¥ Carlos ‚Äî Suporte em tempo real</strong>
          <button class="full-close" id="full-close" aria-label="Fechar">√ó</button>
        </div>
        <div id="full-log" class="full-log" aria-live="polite"></div>
        <form id="full-form" class="full-input">
          <input id="full-input" type="text" placeholder="Escreva sua mensagem‚Ä¶" autocomplete="off">
          <button class="btn primary" type="submit">Enviar</button>
        </form>
      </div>
    </section>

    <!-- ============================= PROMPTS (BOTS) ============================= -->
    <section class="stack">
      <!-- Prompt 1 ‚Äî Mem√≥ria / Logs (mini) -->
      <div class="card">
        <div class="card head">
          <strong>Prompt 1 ‚Äî Mem√≥ria RAM de Logs (Bots)</strong>
          <button class="help" data-help="p1">?</button>
        </div>
        <div class="mem-wrap">
          <div class="mem-bar"><div id="mem-fill" class="mem-fill"></div></div>
          <div class="mem-legend">
            <span class="badge">Status: <b id="mem-status">OK</b></span>
            <span class="log-mini" id="mem-log">‚è≥ inicializando‚Ä¶</span>
          </div>
        </div>
      </div>

      <!-- Prompt 2 ‚Äî Filtros (mini) -->
      <div class="card">
        <div class="card head">
          <strong>Prompt 2 ‚Äî Filtros</strong>
          <button class="help" data-help="p2">?</button>
        </div>
        <div class="filters">
          <label><input type="checkbox" data-filter="ok" checked> Sucesso</label>
          <label><input type="checkbox" data-filter="warn" checked> Aviso</label>
          <label><input type="checkbox" data-filter="err" checked> Erro</label>
          <label><input type="checkbox" data-filter="job" checked> Job/Integra√ß√£o</label>
        </div>
      </div>

      <!-- Prompt 3 ‚Äî Logs em tempo real (CMD) -->
      <div class="cmd">
        <div class="cmd-inner">
          <div class="cmd-head">
            <div class="dots"><span class="dot"></span><span class="dot"></span><span class="dot"></span></div>
            <div class="badge">Prompt 3 ‚Äî Logs em tempo real</div>
            <button class="help" data-help="p3">?</button>
          </div>
          <div id="cmd-body" class="cmd-body" aria-live="polite"></div>
          <div class="cmd-controls">
            <button id="cmd-pause" class="btn">‚è∏Ô∏è Pausar</button>
            <button id="cmd-clear" class="btn">üßπ Limpar</button>
          </div>
        </div>
      </div>
    </section>

    <!-- ============================= PROMPTS CFTV ============================= -->
    <section class="section stack">
      <div class="card">
        <div class="card head">
          <strong>Mem√≥ria RAM ‚Äî CFTV (buffers/streams)</strong>
          <button class="help" data-help="c1">?</button>
        </div>
        <div class="mem-wrap">
          <div class="mem-bar"><div id="mem-fill-cftv" class="mem-fill" style="width:19%"></div></div>
          <div class="mem-legend">
            <span class="badge">Status: <b id="mem-status-cftv">OK</b></span>
            <span class="log-mini" id="mem-log-cftv">‚è≥ inicializando buffers‚Ä¶</span>
          </div>
        </div>
      </div>

      <div class="card head">
        <strong>Prompt CFTV ‚Äî C√¢meras (lil√°s/azul)</strong>
        <button class="help" data-help="c2">?</button>
      </div>

      <div class="cftv">
        <div class="cftv-bg" aria-hidden="true"></div>
        <div class="cmd">
          <div class="cmd-inner">
            <div class="cmd-head">
              <div class="dots"><span class="dot"></span><span class="dot"></span><span class="dot"></span></div>
              <div class="badge">Terminal ‚Äî DVR/C√¢meras</div>
              <div style="display:flex;gap:8px;align-items:center">
                <button id="cftv-pause" class="btn">‚è∏Ô∏è Pausar</button>
                <button id="cftv-clear" class="btn">üßπ Limpar</button>
                <button class="help" data-help="c3">?</button>
              </div>
            </div>
            <div id="cftv-body" class="cmd-body" style="max-height:260px"></div>
          </div>
        </div>

        <div class="card" style="position:relative; z-index:1">
          <div class="kpi-grid">
            <div class="kpi"><small class="muted">Eventos (1min)</small><b id="k-cftv-total">0</b></div>
            <div class="kpi"><small class="muted">Humano</small><b id="k-cftv-hum">0%</b></div>
            <div class="kpi"><small class="muted">Ve√≠culo</small><b id="k-cftv-veh">0%</b></div>
            <div class="kpi"><small class="muted">Furto</small><b id="k-cftv-theft">0%</b></div>
          </div>

          <div class="chart-row" style="margin-top:12px">
            <canvas id="cftv-donut" height="220"></canvas>
            <div style="overflow:auto">
              <table class="table">
                <thead>
                  <tr><th>DVR</th><th>Nome</th><th>C√¢mera</th><th>Ocorr√™ncia</th></tr>
                </thead>
                <tbody id="cftv-tb"></tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- ============================= MICRO-CARDS (DEPOIS DOS PROMPTS) ============================= -->
    <section class="section">
      <div class="after-ui">
        <div class="ui-card">
          <div class="shine"></div>
          <h3 style="margin:0 0 6px">Stack</h3>
          <p class="muted">HTML/CSS/JS ‚Ä¢ Python ‚Ä¢ APIs ‚Ä¢ Webhooks ‚Ä¢ GA4 ‚Ä¢ SEO t√©cnico</p>
        </div>
        <div class="ui-card">
          <div class="shine"></div>
          <h3 style="margin:0 0 6px">Qualidade</h3>
          <p class="muted">Linters, acessibilidade, testes de performance e monitoramento.</p>
        </div>
        <div class="ui-card">
          <div class="shine"></div>
          <h3 style="margin:0 0 6px">Suporte</h3>
          <p class="muted">Onboarding, documenta√ß√£o e acompanhamento p√≥s-lan√ßamento.</p>
        </div>
      </div>
    </section>

    <!-- ============================= SHOWCASE (placeholder) ============================= -->
    <section class="section">
      <h2>Showcase</h2>
      <p class="muted">Alguns destaques recentes (substitua pelos seus projetos reais).</p>
      <div class="container" style="display:grid; gap:16px; grid-template-columns:repeat(3,1fr)">
        <div class="card">Landing otimizada</div>
        <div class="card">Dashboard & API</div>
        <div class="card">Automa√ß√£o Python</div>
      </div>
    </section>

    <!-- ============================= AVALIA√á√ïES / COMENT√ÅRIOS (v3) ============================= -->
    <section id="avaliacoes" class="section">
      <div class="container">
        <h2 style="margin-top:0">Avalia√ß√µes</h2>

        <div class="rate-summary card">
          <div class="rate-left">
            <div class="stars big" style="--score:4.7" aria-label="M√©dia 4,7 de 5"></div>
            <div class="rate-text">
              <b id="avg-rating" class="rate-num">4,7</b>
              <div class="muted"><span id="total-count">92</span> classificados</div>
            </div>
          </div>
          <div class="rate-right">
            <span class="muted">√öltimas visualiza√ß√µes:</span>
            <div id="last-views" class="lv-wrap"></div>
          </div>
        </div>

        <div id="reviews-list" class="reviews-grid"></div>
      </div>
    </section>
  </main>

  <footer class="container">
    <p>&copy; 2025 Carlos Henrique. Todos os direitos reservados.</p>
  </footer>

  <!-- Flutuantes -->
  <a href="contato.html" class="fab-contact" id="fab-contact">üí¨ Contato</a>
  <button id="to-top" aria-label="Voltar ao topo">‚Üë Topo</button>

<script>
/* ============================= HELPERS ============================= */
const $  = (s,doc=document)=>doc.querySelector(s);
const $$ = (s,doc=document)=>Array.from(doc.querySelectorAll(s));
const pad4 = n => String(n).padStart(4,'0');
const rand = (a,b)=>Math.floor(Math.random()*(b-a+1))+a;
const norm = s => (s||'').toString().toLowerCase().normalize('NFD').replace(/[\u0300-\u036f]/g,'');

/* ============================= HEADER + barra leitura + toTop ============================= */
(function headerStuff(){
  const header = document.querySelector('header');
  const bar = document.getElementById('scrollbar');
  const toTop = $('#to-top');
  const fab = $('#fab-contact');

  const setH = ()=> document.documentElement.style.setProperty('--header-h', (header?.offsetHeight||64)+'px');
  setH(); addEventListener('load', setH); addEventListener('resize', setH);

  let lastY = 0;
  const onScroll = ()=>{
    const h = document.documentElement;
    const max = h.scrollHeight - h.clientHeight;
    const y = h.scrollTop||0;
    const p = max>0 ? (y / max)*100 : 0;
    if (bar) bar.style.width = p + '%';

    const goingUp = y < lastY;
    const nearBottom = (y + h.clientHeight) > (h.scrollHeight - 420);
    toTop?.classList.toggle('show', goingUp || nearBottom);
    fab?.classList.toggle('dim', nearBottom);
    lastY = y;
  };
  addEventListener('scroll', onScroll, {passive:true}); onScroll();

  toTop?.addEventListener('click', ()=> window.scrollTo({top:0, behavior:'smooth'}));
})();

/* ============================= MENU LATERAL (bloqueio total) ============================= */
(() => {
  const burger=$('#burger'), side=$('#side-menu');
  if(!burger || !side) return;

  let lastY = 0;
  const preventAll = (e)=>{ e.preventDefault(); e.stopPropagation(); return false; };
  const keyBlock = (e)=>{
    const keys = ['ArrowUp','ArrowDown','ArrowLeft','ArrowRight','PageUp','PageDown','Home','End','Space',' '];
    if(keys.includes(e.key)) preventAll(e);
  };

  function lock(){
    lastY = window.scrollY || 0;
    document.body.classList.add('scroll-lock');
    document.body.style.top = `-${lastY}px`;
    document.documentElement.style.overscrollBehavior = 'none';
    document.documentElement.style.touchAction = 'none';
    window.addEventListener('wheel', preventAll, {passive:false});
    window.addEventListener('touchmove', preventAll, {passive:false});
    window.addEventListener('scroll', preventAll, {passive:false});
    window.addEventListener('keydown', keyBlock, {passive:false});
  }
  function unlock(){
    document.body.classList.remove('scroll-lock');
    document.body.style.top = '';
    document.documentElement.style.overscrollBehavior = '';
    document.documentElement.style.touchAction = '';
    window.removeEventListener('wheel', preventAll);
    window.removeEventListener('touchmove', preventAll);
    window.removeEventListener('scroll', preventAll);
    window.removeEventListener('keydown', keyBlock);
    window.scrollTo(0, lastY);
  }

  function openMenu(force){
    const open = (typeof force==='boolean') ? force : !side.classList.contains('open');
    side.classList.toggle('open', open);
    burger.classList.toggle('active', open);
    burger.setAttribute('aria-expanded', open ? 'true':'false');
    open ? lock() : unlock();
  }

  burger.addEventListener('click', ()=> openMenu());
  side.querySelectorAll('a').forEach(a=> a.addEventListener('click', ()=> openMenu(false)));
  addEventListener('keydown', e=>{ if(e.key==='Escape') openMenu(false); });
})();

/* ============================= THEME SWITCH ============================= */
(() => {
  const sw = $('#theme-switch');
  if(!sw) return;
  document.body.classList.toggle('light', !sw.checked);
  sw.addEventListener('change', ()=> document.body.classList.toggle('light', !sw.checked));
})();

/* ============================= REVEAL + hero orbs ============================= */
(() => {
  const io=new IntersectionObserver(ents=>ents.forEach(e=>{
    if(e.isIntersecting) e.target.classList.add('visible');
  }),{threshold:.14});
  $$('.section').forEach(s=>io.observe(s));
})();
(() => {
  const art = $('#hero-art');
  if(!art) return;
  const io = new IntersectionObserver((ents)=>{
    ents.forEach(e=> art.classList.toggle('play', e.isIntersecting));
  },{threshold:.3});
  io.observe(art);
})();

/* ============================= HERO COUNTERS (on view) ============================= */
(() => {
  const wrap = $('#hero-stats');
  const elP = $('#h-projetos'), elA = $('#h-anos'), elS = $('#h-satisfacao');

  function countTo(el, to, isPct=false, dur=1000){
    if(!el) return;
    const t0=performance.now(), start=0;
    const step=(t)=>{
      const p=Math.min(1,(t-t0)/dur);
      const v=Math.round(start+(to-start)*p);
      el.textContent = isPct ? (v+'%') : ('+'+v);
      if(p<1) requestAnimationFrame(step);
    };
    requestAnimationFrame(step);
  }

  const io = new IntersectionObserver((ents)=>{
    ents.forEach(e=>{
      if(e.isIntersecting){
        countTo(elP, 217);
        countTo(elA, 4);
        countTo(elS, 97, true);
        io.disconnect();
      }
    });
  },{threshold:.45});
  wrap && io.observe(wrap);
})();

/* ============================= MINI HIST√ìRIA toggle ============================= */
(() => {
  const s = $('#mini-historia');
  const btn = $('#story-mini-toggle');
  const more = $('#story-mini-more');
  if(!s || !btn || !more) return;
  btn.addEventListener('click', ()=>{
    const open = s.classList.toggle('open');
    btn.setAttribute('aria-expanded', open ? 'true' : 'false');
    btn.firstChild.nodeValue = open ? 'Ver menos ' : 'Ver mais ';
  });
})();

/* ============================= INFO ‚Äì bot√£o abre/fecha ============================= */
(() => {
  const trigger = $('#info-trigger');
  const panel = $('#info-panel');
  const rate = $('#mini-rate');

  function toggle(open){
    const will = (typeof open==='boolean') ? open : !panel.classList.contains('open');
    panel.hidden = false;
    panel.classList.toggle('open', will);
    trigger.setAttribute('aria-expanded', will ? 'true' : 'false');
    if(!will){
      const t = setTimeout(()=>{ panel.hidden = true; clearTimeout(t); }, 350);
    }
  }
  trigger.addEventListener('click', ()=> toggle());

  setInterval(()=>{ const msgs = 1 + Math.floor(Math.random()*3); rate.textContent = `~${msgs} msg/s`; }, 1200);
})();

/* ============================= HELP ‚Äú?‚Äù ‚Äì popover ============================= */
(() => {
  const helpText = {
    p1: {t:'Mem√≥ria de Logs (Bots)', d:'Mostra o uso de mem√≥ria dos processos de bot. Ele nunca ultrapassa 87%: h√° limpezas autom√°ticas que retornam a ~23% de forma inteligente.'},
    p2: {t:'Filtros', d:'Habilite/desabilite tipos de mensagens. Isso afeta apenas o que aparece no terminal e n√£o interrompe os processos.'},
    p3: {t:'Logs em tempo real', d:'Console tipo CMD com conex√µes, jobs e eventos. Voc√™ pode pausar e limpar sem afetar o backend.'},
    c1: {t:'Mem√≥ria CFTV', d:'Buffers/streams do DVR/NVR. Faz limpeza proativa para manter estabilidade.'},
    c2: {t:'CFTV ‚Äî Cabe√ßalho', d:'Se√ß√£o lil√°s/azul para status geral de c√¢meras e DVRs.'},
    c3: {t:'Terminal CFTV', d:'Eventos de c√¢mera: humano, ve√≠culo, furto, etc. Estat√≠sticas e tabela de ocorr√™ncias acompanham.'}
  };
  const pop = document.createElement('div');
  pop.className='help-pop';
  pop.innerHTML = `<button class="x" aria-label="Fechar">√ó</button><h4></h4><div class="txt"></div>`;
  document.body.appendChild(pop);
  const h4 = pop.querySelector('h4');
  const txt = pop.querySelector('.txt');
  const close = ()=> pop.classList.remove('show');

  document.addEventListener('click', (e)=>{
    if(e.target.closest('.help')){
      const btn = e.target.closest('.help');
      const id = btn.dataset.help;
      const data = helpText[id] || {t:'Ajuda', d:'Informa√ß√£o indispon√≠vel.'};
      h4.textContent = data.t; txt.textContent = data.d;

      const r = btn.getBoundingClientRect();
      const px = Math.min(window.innerWidth - 280, Math.max(14, r.left - 10));
      const py = r.bottom + 8;
      pop.style.left = px + 'px';
      pop.style.top  = py + 'px';
      pop.classList.add('show');
    } else if(!e.target.closest('.help-pop')) {
      close();
    }
  }, {passive:true});
  pop.querySelector('.x').addEventListener('click', close);
  document.addEventListener('keydown', e=>{ if(e.key==='Escape') close(); });
})();

/* ============================= ROB√î CARLOS ‚Äî CHAT (menu 1‚Äì5 + 6 sair) ============================= */
(() => {
  const log = $('#chat-log');
  const form = $('#chat-form');
  const input = form.querySelector('input');
  const chips = $$('.quick .chip');

  const reply = (html, who='bot')=>{
    const div=document.createElement('div');
    div.className='msg ' + (who==='me'?'me':'bot');
    div.innerHTML = html;
    log.appendChild(div);
    log.scrollTop = log.scrollHeight;
  };

  const MAIN = [
    { t:'Navega√ß√£o do site' },
    { t:'Sobre mim e forma√ß√£o' },
    { t:'Servi√ßos, prazos e pre√ßos' },
    { t:'Projetos, resultados e m√©tricas' },
    { t:'Ajuda geral (LGPD, dom√≠nio, suporte)' }
  ];

  const SUB = {
    1: [
      ['Onde vejo o portf√≥lio?', `Abra <a class="btn small ghost" href="projetos.html">projetos.html</a> para ver cases completos.`],
      ['Onde ficam os projetos desta p√°gina?', `Role at√© <b>Showcase</b> ou clique em <a class="btn small ghost" href="#inicio">‚Üë Topo</a> e depois <b>Projetos</b> no menu.`],
      ['Onde est√° o Sobre?', `Minha hist√≥ria detalhada est√° em <a class="btn small ghost" href="sobre.html">sobre.html</a>.`],
      ['Tem CV para baixar?', `Sim! <a class="btn small ghost" href="cv.pdf" target="_blank">Baixar CV (PDF)</a>.`],
      ['Como entro em contato?', `Use o bot√£o <b>üí¨ Contato</b> ou <a class="btn small primary" href="contato.html">contato.html</a>.`],
      ['Tem se√ß√£o de CFTV?', `Sim, h√° um painel de CFTV com eventos e donut logo abaixo nos <b>Prompts CFTV</b>.`],
      ['Onde vejo automa√ß√µes/bots?', `Os <b>Prompts</b> simulam mem√≥ria, filtros e logs em tempo real para transpar√™ncia.`],
      ['Onde vejo avalia√ß√µes?', `Role at√© <a class="btn small ghost" href="#avaliacoes">Avalia√ß√µes</a> nesta p√°gina.`],
      ['Onde est√° a p√°gina inicial?', `Voc√™ j√° est√° nela üôÇ. Use o menu superior para navegar.`],
    ],
    2: [
      ['Como voc√™ come√ßou?', `Estudo desde os <b>14 anos</b>, com foco em HTML, design e performance.`],
      ['YouthSpark Microsoft?', `Participei de iniciativas educacionais como a <b>YouthSpark (Microsoft)</b>.`],
      ['Faz automa√ß√£o?', `Sim: ETL, <b>APIs</b>, webhooks e relat√≥rios automatizados.`],
      ['Trabalha com CFTV?', `Sim: configura√ß√£o de <b>DVR/NVR</b>, DDNS/VPN e documenta√ß√£o.`],
      ['Machine Learning?', `Uso ML para <b>insights/priors</b> (leads, m√©tricas) e dashboards amig√°veis.`],
      ['UI/UX e landing pages?', `Sim: arquitetura, copy, prot√≥tipo e testes ‚Äî foco em convers√£o e acessibilidade.`],
      ['Pintura pl√°stica e digital?', `Fa√ßo sob encomenda. Trago a est√©tica dessas √°reas para UI/UX.`],
      ['Stack principal?', `HTML/CSS/JS, Python, REST APIs, GA4/SEO t√©cnico, deploy e monitora√ß√£o.`],
      ['Anos e projetos?', `<b>4 anos</b> e <b>+217 projetos</b> entregues.`],
    ],
    3: [
      ['Quanto custa uma landing?', `Varia por escopo. Fa√ßo proposta ap√≥s briefing r√°pido <a class="btn small primary" href="contato.html">solicitar</a>.`],
      ['Prazos t√≠picos?', `Landing otimizada: <b>6‚Äì12 dias</b>. Projetos maiores, combinamos por m√≥dulo.`],
      ['Manuten√ß√£o cont√≠nua?', `Sim, planos de evolu√ß√£o/otimiza√ß√£o conforme necessidade.`],
      ['SEO t√©cnico incluso?', `Sim: performance, metadados, sitemap e boas pr√°ticas.`],
      ['Acessibilidade?', `Foco/contraste/teclado e testes manuais automatizados.`],
      ['Formas de pagamento?', `Combinamos no fechamento (pix/nota/parcelado).`],
      ['Contrato e nota?', `Dispon√≠veis mediante solicita√ß√£o.`],
      ['Garantia?', `Acompanho p√≥s-lan√ßamento e corrijo regress√µes do escopo.`],
      ['Suporte T.I.?', `Sim: PCs, redes e configura√ß√£o de c√¢meras.`],
    ],
    4: [
      ['Cases com m√©tricas?', `Em <a class="btn small ghost" href="projetos.html">projetos.html</a> detalho stack e resultados.`],
      ['PageSpeed?', `Otimiza√ß√µes para notas altas, lazy, minifica√ß√£o e imagens responsivas.`],
      ['A/B testing?', `Ajusto CTAs, varia√ß√µes de layout e acompanho convers√£o.`],
      ['Acessibilidade?', `Checklist + corre√ß√µes (contrast/focus/aria).`],
      ['Dashboards?', `Relat√≥rios claros para tomada de decis√£o.`],
      ['APIs e integra√ß√µes?', `CRM, pagamento, planilhas e webhooks.`],
      ['CFTV: resultados?', `Alertas mais √∫teis e acesso remoto seguro.`],
      ['Depoimentos?', `Veja <a class="btn small ghost" href="#avaliacoes">Avalia√ß√µes</a> no fim da p√°gina.`],
      ['Documenta√ß√£o?', `Entrego passos, credenciais e rotinas de manuten√ß√£o.`],
    ],
    5: [
      ['N√£o encontrei algo', `Posso te levar ao <a class="btn small primary" href="contato.html">contato</a> para entender melhor.`],
      ['Erros na navega√ß√£o', `Atualize a p√°gina ou tente outro navegador. Persistindo, me avise.`],
      ['Responsividade', `Projeto sempre mobile-first com testes nos breakpoints.`],
      ['LGPD', `Cookies essenciais e boas pr√°ticas de privacidade.`],
      ['Dom√≠nio/hosting', `Ajudo na configura√ß√£o DNS/SSL e deploy.`],
      ['Backup', `Rotina simples e versionamento do c√≥digo.`],
      ['P√≥s-lan√ßamento', `Monitoro, otimizo e evoluo com base em dados.`],
      ['Briefing', `Envio formul√°rio objetivo para come√ßarmos certo.`],
      ['Outros', `Me chama e vamos resolver rapidinho üòâ.`],
    ]
  };

  // Estado do chat
  const STATE = { mode:'main', mainIdx:null, awaitingConfirm:false };

  const printMain = ()=>{
    let html = `<b>Menu principal</b><br>`;
    MAIN.forEach((m,i)=> html += `${i+1}. ${m.t}<br>`);
    html += `6. Sair e voltar ao site<br><small>Envie um n√∫mero (1‚Äì5) ou 6 para sair.</small>`;
    reply(html);
  };

  const printSub = (idx)=>{
    const list = SUB[idx];
    let html = `<b>${idx}. ${MAIN[idx-1].t}</b><br>`;
    list.forEach((it,i)=> html += `${i+1}. ${it[0]}<br>`);
    html += `10. Voltar ao menu principal<br><small>Escolha 1‚Äì9, ou 10 para voltar.</small>`;
    reply(html);
  };

  const askSolved = ()=>{
    reply(`Isso resolveu sua d√∫vida?<br>1. Sim ‚úÖ &nbsp; 2. N√£o ‚ùå`);
    STATE.awaitingConfirm = true;
  };

  const handleNumber = (n)=>{
    if(STATE.awaitingConfirm){
      if(n===1){ reply('Perfeito! Quer ver outra coisa?'); STATE.awaitingConfirm=false; STATE.mode='main'; printMain(); }
      else if(n===2){ reply('Sem problema, vou te encaminhar para o contato‚Ä¶'); setTimeout(()=>{ window.location.href = 'contato.html'; }, 400); }
      return;
    }

    if(STATE.mode==='main'){
      if(n>=1 && n<=5){ STATE.mode='sub'; STATE.mainIdx=n; printSub(n); }
      else if(n===6){ reply('Ok! Saindo do chat e voltando ao site.'); log.innerHTML=''; window.scrollTo({top:0,behavior:'smooth'}); }
      else { reply('Envie um n√∫mero entre 1 e 6.'); }
      return;
    }

    if(STATE.mode==='sub'){
      if(n===10){ STATE.mode='main'; STATE.mainIdx=null; printMain(); return; }
      if(n>=1 && n<=9){
        const item = SUB[STATE.mainIdx][n-1];
        if(item){ reply(item[1]); askSolved(); }
        else reply('Op√ß√£o inv√°lida.'); 
        return;
      }
      reply('Escolha 1‚Äì9 ou 10 para voltar.');
    }
  };

  const welcome = ()=>{
    reply(`Oi! Eu sou o <b>Rob√¥ Carlos</b>. Use os n√∫meros para navegar.`);
    printMain();
  };

  form.addEventListener('submit', (e)=>{
    e.preventDefault();
    const q = input.value.trim();
    if(!q) return;
    reply(q, 'me');
    input.value='';
    const num = parseInt(q.match(/\d+/)?.[0] || NaN, 10);
    if(Number.isFinite(num)) handleNumber(num);
    else reply('Envie apenas o n√∫mero da op√ß√£o. üòâ');
  });

  chips.forEach(c=> c.addEventListener('click', ()=>{
    const num = parseInt(c.dataset.q,10);
    reply(String(num),'me'); handleNumber(num);
  }));

  // inicia
  welcome();
})();

/* ============================= SECRET BUTTON -> overlay full (mini-p√°gina) ============================= */
(() => {
  const secret = $('#bot-secret');
  const overlay = $('#support-full');
  const closeBtn = $('#full-close');
  const fullLog = $('#full-log');
  const fullForm = $('#full-form');
  const fullInput = $('#full-input');

  let idleTimer = null;

  function fullReply(text, who='bot'){
    const wrap=document.createElement('div');
    wrap.className='msg ' + (who==='me'?'me':'bot');
    wrap.style.margin='8px 0';
    wrap.style.border='1px solid rgba(255,255,255,.12)';
    wrap.style.background = (who==='me'?'rgba(32,211,255,.10)':'#0f1736');
    wrap.style.padding='10px 12px';
    wrap.style.borderRadius='12px';
    wrap.innerHTML = text;
    fullLog.appendChild(wrap);
    fullLog.scrollTop = fullLog.scrollHeight;
  }

  function startIdle(){ stopIdle(); idleTimer = setTimeout(()=>{ closeOverlay(true); }, 30000); }
  function stopIdle(){ if(idleTimer){ clearTimeout(idleTimer); idleTimer=null; } }

  function openOverlay(){
    overlay.classList.add('show'); overlay.setAttribute('aria-hidden','false');
    fullLog.innerHTML='';
    fullReply(`Bem-vindo √† mini-p√°gina do <b>Rob√¥ Carlos</b>! Se ficar 30s sem intera√ß√£o, eu fecho automaticamente. Use os n√∫meros como no chat r√°pido.`);
    startIdle();
  }
  function closeOverlay(auto=false){
    overlay.classList.remove('show'); overlay.setAttribute('aria-hidden','true');
    stopIdle();
    if(auto){ showDockPeek('Conversa pausada por inatividade.', true); }
  }

  secret.addEventListener('click', openOverlay);
  closeBtn.addEventListener('click', ()=> closeOverlay(false));
  overlay.addEventListener('click', (e)=>{ if(e.target===overlay) closeOverlay(false); });

  fullForm.addEventListener('submit', (e)=>{
    e.preventDefault();
    const q = fullInput.value.trim();
    if(!q) return;
    fullReply(q,'me'); fullInput.value='';
    startIdle();
    setTimeout(()=>{
      fullReply('Quer ir para <a href="projetos.html" class="btn small ghost">Projetos</a> ou <a href="sobre.html" class="btn small ghost">Sobre</a>?');
      startIdle();
    }, 180);
  });

  ['click','keydown','scroll','mousemove','touchstart'].forEach(ev=>{
    overlay.addEventListener(ev, ()=> overlay.classList.contains('show') && startIdle(), {passive:true});
  });
})();

/* ============================= Dock lateral do Rob√¥ Carlos ============================= */
(() => {
  const sec = $('#assistente');
  const dock = $('#bot-dock');
  const openBtn = $('#dock-open');
  let peekTimer=null;

  function showDock(show){
    dock.style.display = show ? 'block' : 'none';
    dock.classList.remove('peek');
  }
  function showDockPeek(msg='Precisa de ajuda?', warn=false){
    dock.style.display='block';
    dock.classList.add('peek');
    dock.innerHTML = `ü§ñ
      <div class="peek-inner">
        <div><b>Rob√¥ Carlos</b><br><span class="muted">${msg}</span></div>
        <button class="btn ${warn?'ghost':'primary'} open" id="dock-open" type="button">Abrir suporte</button>
      </div>`;
    clearTimeout(peekTimer);
    peekTimer = setTimeout(()=>{ dock.classList.remove('peek'); }, 5000);
    setTimeout(()=>{ $('#dock-open')?.addEventListener('click', ()=> $('#bot-secret').click()); }, 30);
  }

  const io = new IntersectionObserver((ents)=>{
    ents.forEach(e=>{
      if(e.isIntersecting){ showDock(false); }
      else{ showDock(true); }
    });
  },{threshold:.12});
  io.observe(sec);

  dock.addEventListener('click', (ev)=>{
    if(ev.target.id==='dock-open') return;
    if(!dock.classList.contains('peek')) showDockPeek();
    else { $('#bot-secret').click(); dock.classList.remove('peek'); }
  });

  window.showDockPeek = showDockPeek;
})();

/* ============================= PROMPT 1 ‚Äì Mem√≥ria/Logs (Bots) ============================= */
(() => {
  const fill = $('#mem-fill'), status=$('#mem-status'), log=$('#mem-log');
  let pct = 23;
  function time(){ const d=new Date(); return d.toLocaleTimeString('pt-BR',{hour12:false}); }

  function setBar(p){
    pct = Math.max(0, Math.min(100, p));
    fill.style.width = pct + '%';
    fill.style.background = (pct>=87) ? 'linear-gradient(90deg,#ff6b6b,#ff3b3b)'
      : (pct>=86) ? 'linear-gradient(90deg,#ffb24d,#ff8756)'
      : 'linear-gradient(90deg,var(--brand),var(--accent))';
    status.textContent = (pct>=87) ? 'Cr√≠tico' : (pct>=86) ? 'Aten√ß√£o' : 'OK';
  }
  function resetTo23(msg){ setBar(23); log.textContent = msg || `[${time()}] Limpeza de mem√≥ria RAM ‚Üí 23%`; }
  function chanceReset(p){
    if(p>=87){ log.textContent = `[${time()}] uso cr√≠tico detectado (87%). Reinicializando‚Ä¶`; setTimeout(()=> resetTo23(`[${time()}] Limpeza conclu√≠da ‚Üí 23%`), 1000); return true; }
    const roll=Math.random()*100;
    if(p>=85 && roll<90) { resetTo23(`[${time()}] ajuste preventivo ‚Üí 23%`); return true; }
    if(p>=83 && roll<65) { resetTo23(`[${time()}] limpeza inteligente ‚Üí 23%`); return true; }
    if(p>=80 && roll<40) { resetTo23(`[${time()}] redu√ß√£o de mem√≥ria ‚Üí 23%`); return true; }
    if(p>=77 && roll<30) { resetTo23(`[${time()}] otimiza√ß√£o proativa ‚Üí 23%`); return true; }
    return false;
  }
  const messages = [
    ()=>`[${time()}] coleta conclu√≠da ‚Ä¢ 187 itens`,
    ()=>`[${time()}] compacta√ß√£o de logs ok`,
    ()=>`[${time()}] cache limpo`,
    ()=>`[${time()}] job ETL incremental ok`,
    ()=>`[${time()}] verifica√ß√£o de integridade ok`,
    ()=>`[${time()}] limpeza de RAM ‚Üí 23%`
  ];
  setBar(pct);
  setInterval(()=>{ if(chanceReset(pct)) return; const delta = -2 + Math.random()*6; setBar(pct+delta); log.textContent = messages[Math.floor(Math.random()*messages.length)](); }, 1200);
})();

/* ============================= PROMPT 2 ‚Äì Filtros ============================= */
const activeFilters = new Set(['ok','warn','err','job']);
$$('.filters input[type="checkbox"]').forEach(cb=>{
  if(cb.checked) activeFilters.add(cb.dataset.filter);
  cb.addEventListener('change', ()=>{ if(cb.checked) activeFilters.add(cb.dataset.filter); else activeFilters.delete(cb.dataset.filter); });
});

/* ============================= PROMPT 3 ‚Äì Logs em tempo real (CMD) ============================= */
(() => {
  const body = $('#cmd-body');
  const btnPause = $('#cmd-pause');
  const btnClear = $('#cmd-clear');
  let paused=false, buffer=[];
  function time(){ const d=new Date(); return d.toLocaleTimeString('pt-BR',{hour12:false}); }

  const ip = () => `${rand(10,250)}.${rand(0,255)}.${rand(0,255)}.${rand(1,254)}`;
  const port = () => rand(1024,65535);
  const proto = () => (Math.random()<0.5?'HTTP/2':'gRPC');
  const tls = () => (Math.random()<0.7?'TLS1.3':'TLS1.2');
  const dur = () => rand(5,120);
  const bytes = () => (rand(30,900) + '.' + rand(0,9));
  const p95 = () => rand(180,950);
  const ms = () => rand(90,1200);
  const id = () => rand(1000,9999);
  const user = () => ['alice','bob','carol','dave','erin','frank'][rand(0,5)];

  const baseWeights = [{k:'ok',w:58},{k:'warn',w:22},{k:'err',w:6},{k:'job',w:28}];
  function pickWeighted(){
    const pool = baseWeights.filter(w=>activeFilters.has(w.k));
    const sum = pool.reduce((a,b)=>a+b.w,0)||1;
    let r = Math.random()*sum, acc=0;
    for(const it of pool){ acc+=it.w; if(r<=acc) return it.k; }
    return pool[0]?.k || 'ok';
  }

  const msgs = {
    ok: [
      ()=>`[${time()}] ‚úì Conex√£o via ${proto()} ${ip()}:${port()} ‚Ä¢ ${tls()} ‚Ä¢ ${dur()}s ‚Ä¢ ${bytes()} KB`,
      ()=>`[${time()}] ‚úì Pipeline ETL ‚Ä¢ 12.${rand(0,9)}k linhas em ${ms()}ms (p95 ${p95()}ms)`,
      ()=>`[${time()}] ‚úì Webhook /v1/leads 200 OK ‚Ä¢ id=${id()}`,
      ()=>`[${time()}] ‚úì Cache aquecido ‚Ä¢ rotas=14 ‚Ä¢ hit-rate ${rand(86,98)}%`,
      ()=>`[${time()}] ‚úì Auth SSO (OAuth2) ‚Ä¢ user=${user()}`,
      ()=>`[${time()}] ‚úì CDN purge seletivo ‚Ä¢ paths=6 ‚Ä¢ ${ms()}ms`,
      ()=>`[${time()}] ‚úì Exporta√ß√£o CSV ‚Ä¢ ${bytes()} KB ‚Ä¢ SHA-256 ok`
    ],
    warn: [
      ()=>`[${time()}] ‚ö†Ô∏è Lat√™ncia elevada ‚Ä¢ api-parceiro (p95 ${p95()}ms)`,
      ()=>`[${time()}] ‚ö†Ô∏è Quota de e-mail 78% usada ‚Ä¢ rate-limit adaptativo`,
      ()=>`[${time()}] ‚ö†Ô∏è Fila retry com ${rand(3,18)} itens ‚Ä¢ backoff ${rand(4,12)}s`,
      ()=>`[${time()}] ‚ö†Ô∏è Write lento no banco ‚Ä¢ row lock ‚Ä¢ ${ms()}ms`
    ],
    err: [
      ()=>`[${time()}] ‚ùå Timeout ${proto()} ${ip()}:${port()} ‚Ä¢ ${dur()}s`,
      ()=>`[${time()}] ‚ùå 502 Bad Gateway em /billing/charge`,
      ()=>`[${time()}] ‚ùå SMTP falhou ‚Ä¢ ${ip()}:587 ‚Ä¢ retry em 15s`
    ],
    job: [
      ()=>`[${time()}] ‚è±Ô∏è Job backup iniciado ‚Ä¢ shard ${rand(1,4)}/4`,
      ()=>`[${time()}] üîÑ Integra√ß√£o CRM ‚Ä¢ ${rand(40,180)} contatos`,
      ()=>`[${time()}] üß≠ Reindexa√ß√£o de busca ‚Ä¢ ${rand(3,10)} √≠ndices`,
      ()=>`[${time()}] üß© Migra√ß√£o de schema ‚Ä¢ v${rand(12,18)}.${rand(0,9)}`
    ]
  }; 

  function pushLine(txt){
    if(paused){ buffer.push(txt); return; }
    const p=document.createElement('div'); p.textContent=txt; body.appendChild(p);
    body.scrollTop = body.scrollHeight;
  }

  function tick(){
    const kind = pickWeighted();
    const arr=msgs[kind]; pushLine(arr[Math.floor(Math.random()*arr.length)]());
  }

  setInterval(tick, 850+Math.random()*450);

  btnPause.addEventListener('click', ()=>{
    paused=!paused;
    btnPause.textContent = paused ? '‚ñ∂Ô∏è Retomar' : '‚è∏Ô∏è Pausar';
    if(!paused && buffer.length){
      const total = buffer.length;
      const sum = {ok:0,warn:0,err:0,job:0};
      buffer.forEach(line=>{
        if(line.includes('‚úì')) sum.ok++;
        else if(line.includes('‚ö†Ô∏è')) sum.warn++;
        else if(line.includes('‚ùå')) sum.err++;
        else sum.job++;
      });
      const now = new Date().toLocaleTimeString('pt-BR',{hour12:false});
      pushLine(`[${now}] ‚ñ∂Ô∏è Resumo: ${total} eventos ‚Ä¢ ok=${sum.ok}, aviso=${sum.warn}, erro=${sum.err}, job=${sum.job}`);
      buffer.forEach(l => pushLine(l));
      buffer.length=0;
    }
  });
  btnClear.addEventListener('click', ()=>{ body.innerHTML=''; });
})();

/* ============================= LISTAS DE NOMES (para CFTV) ============================= */
const BR_FIRST = ["Maria","Ana","Jo√£o","Jos√©","Pedro","Lucas","Gabriel","Matheus","Luiz","Guilherme","Gustavo","Rafael","Felipe","Bruno","Carlos","Henrique","Eduardo","Diego","Thiago","Daniel","Andr√©","Vitor","Victor","Marcelo","Marcos","Rodrigo","Leonardo","Vin√≠cius","Paulo","Caio","F√°bio","Renan","Fernando","Wesley","Igor","Samuel","Ant√¥nio","Miguel","Heitor","Arthur","Davi","Bernardo","Enzo","Nicolas","Lorenzo","Murilo","Ian","Ot√°vio","Emanuel","Yuri","Pietro","Hugo","Isaac","Leandro","Allan","√Ålvaro","Alexandre","Cristiano","M√°rcio","S√©rgio","Jorge","Roberto","Ricardo","Rog√©rio","Everton","Elton","Elias","J√∫lio","William","Silas","Saulo","T√∫lio","Mateus","M√°rio","Ben√≠cio","Breno","Raul","Luan","Jo√£o Pedro","Jo√£o Paulo","Maria Eduarda","Maria Clara","Maria Fernanda","Ana Clara","Ana J√∫lia","Ana Beatriz","Ana Luiza","Beatriz","Camila","Larissa","Bianca","Vit√≥ria","Isabela","Carolina","Caroline","Luiza","Let√≠cia","Helena","Valentina","Sophia","Isadora","Nicole","L√≠via","Aline","Raquel","Priscila","Nat√°lia","J√©ssica","Tatiane","Patr√≠cia","Bruna","Juliana","Fernanda","Fl√°via","√ârica","Daniele","Renata","Sabrina","Talita","Rebeca","D√©bora","Catarina","Ester","Clara","Cec√≠lia","Manuela","Melissa","Eduarda","Paula","Tain√°","Yasmin","Giovanna","Giovana","Giselle","Elaine","Eliane","Monique","M√¥nica"];
const BR_LAST  = ["Silva","Santos","Oliveira","Souza","Rodrigues","Ferreira","Alves","Pereira","Lima","Gomes","Costa","Dias","Ara√∫jo","Carvalho","Pinto","Cavalcante","Barbosa","Ribeiro","Almeida","Martins","Lopes","Barros","Cardoso","Teixeira","Moreira","Correia","Rocha","Nogueira","Machado","Mendes","Moura","Freitas","Batista","Ramos","Monteiro","Campos","Gon√ßalves","Guimar√£es","Vieira","Farias","Duarte","Melo","Macedo","Sales","Siqueira","Figueiredo","Bezerra","Tavares","Braga","Pires","Xavier","Peixoto","Queiroz","Fontes","Moraes","Matos","Neves","Cunha","Assis","Pacheco","Rezende","Rosa","Soares","Aguiar","Valente","Amaral","Couto","Barreto","Magalh√£es","Santana","Porto","Prado","Camargo","Borges","Chaves","Coelho","N√≥brega","Diniz","Lacerda","Louren√ßo","Lucena","Bueno","Delgado","Quevedo","Bonfim","Villela","Serra","Meireles","Alvarenga","Salvador","Medeiros","Torres","Frota","Braz","Cavalcanti","Fagundes","Barcellos","Paim","Sarmento","Menezes","Cordeiro","Neiva"];
function mixedName(){
  const FN = BR_FIRST, LN = BR_LAST;
  const pick = a => a[rand(0,a.length-1)];
  return `${pick(FN)} ${pick(LN)}`;
}

/* ============================= CFTV ‚Äì Terminal + Relat√≥rio ============================= */
(() => {
  const body = $('#cftv-body');
  const btnPause = $('#cftv-pause');
  const btnClear = $('#cftv-clear');
  const kTotal = $('#k-cftv-total'), kHum=$('#k-cftv-hum'), kVeh=$('#k-cftv-veh'), kTheft=$('#k-cftv-theft');
  const tb = $('#cftv-tb');
  const donut = $('#cftv-donut');

  let paused=false;
  function time(){ const d=new Date(); return d.toLocaleTimeString('pt-BR',{hour12:false}); }

  const weights = [
    {type:'humano', w:57, label:'Detec√ß√£o de movimento ‚Äî Humano'},
    {type:'veiculo', w:35, label:'Detec√ß√£o de movimento ‚Äî Ve√≠culo'},
    {type:'furto', w:3, label:'Alerta ‚Äî Furto em supermercado'},
    {type:'outros', w:5, label:'Evento ‚Äî Outros'}
  ];
  const sumW = weights.reduce((a,b)=>a+b.w,0);
  const stats = { total:0, humano:0, veiculo:0, furto:0, outros:0 };

  function pickWeighted(){ let r=Math.random()*sumW,acc=0; for(const it of weights){ acc+=it.w; if(r<=acc) return it; } return weights[0]; }
  function newEvent(){
    const dvr = pad4(rand(0,9999));
    const nome = mixedName();
    const cam = 'cam'+rand(1,12);
    const w = pickWeighted();
    const line = `[${time()}] DVR ${dvr} ‚Äî ${nome} ‚Äî ${cam} ‚Äî ${w.label}`;
    return {dvr,nome,cam,type:w.type,label:w.label,line};
  }

  function pushLine(ev){
    const p=document.createElement('div'); p.textContent=ev.line; body.appendChild(p);
    body.scrollTop = body.scrollHeight;

    const tr = document.createElement('tr');
    tr.innerHTML = `<td>${ev.dvr}</td><td>${ev.nome}</td><td>${ev.cam}</td><td>${ev.label}</td>`;
    tb.prepend(tr);
    while(tb.children.length>10) tb.lastChild.remove();

    stats.total++; stats[ev.type]++;
    const pct = t => stats.total ? Math.round((stats[t]/stats.total)*100) : 0;
    kTotal.textContent = stats.total;
    kHum.textContent = pct('humano') + '%';
    kVeh.textContent = pct('veiculo') + '%';
    kTheft.textContent = pct('furto') + '%';
    drawDonut(donut, [
      {nome:'Humano', valor:stats.humano, cor:'#7c4dff'},
      {nome:'Ve√≠culo', valor:stats.veiculo, cor:'#20d3ff'},
      {nome:'Furto', valor:stats.furto, cor:'#ff6b6b'},
      {nome:'Outros', valor:stats.outros, cor:'#9bb0d3'}
    ]);
  }

  setInterval(()=>{ if(!paused) pushLine(newEvent()); }, 900);
  btnPause.addEventListener('click', ()=>{ paused=!paused; btnPause.textContent = paused ? '‚ñ∂Ô∏è Retomar' : '‚è∏Ô∏è Pausar'; });
  btnClear.addEventListener('click', ()=>{ body.innerHTML=''; tb.innerHTML=''; Object.assign(stats,{total:0,humano:0,veiculo:0,furto:0,outros:0}); kTotal.textContent='0'; kHum.textContent='0%'; kVeh.textContent='0%'; kTheft.textContent='0%'; drawDonut(donut, []); });
})();

/* ============================= Canvas Donut ============================= */
function drawDonut(cv, items){
  if(!cv) return;
  const ctx=cv.getContext('2d');
  const w=cv.width = cv.clientWidth || 260;
  const h=cv.height = 220;
  ctx.clearRect(0,0,w,h);
  const cx=w/2, cy=h/2, r=Math.min(w,h)/3, r2=r*0.62;
  const total=items.reduce((a,b)=>a+b.valor,0)||1;
  let a0=-Math.PI/2;
  items.forEach((it)=>{
    const frac=it.valor/total, a1=a0+frac*2*Math.PI;
    ctx.beginPath(); ctx.arc(cx,cy,r,a0,a1); ctx.arc(cx,cy,r2,a1,a0,true); ctx.closePath();
    ctx.fillStyle=it.cor||'#20d3ff'; ctx.fill();
    a0=a1;
  });
  ctx.fillStyle='#eaf2ff'; ctx.font='700 16px Segoe UI, sans-serif'; ctx.textAlign='center'; ctx.fillText('Eventos CFTV', cx, cy+6);
}

/* ============================= MEM√ìRIA CFTV (novo, independente) ============================= */
(() => {
  const fill = $('#mem-fill-cftv'), status=$('#mem-status-cftv'), log=$('#mem-log-cftv');
  let pct = 19;
  function time(){ const d=new Date(); return d.toLocaleTimeString('pt-BR',{hour12:false}); }
  function setBar(p){
    pct = Math.max(0, Math.min(100, p));
    fill.style.width = pct + '%';
    fill.style.background = (pct>=87) ? 'linear-gradient(90deg,#ff6b6b,#ff3b3b)'
      : (pct>=86) ? 'linear-gradient(90deg,#ffb24d,#ff8756)'
      : 'linear-gradient(90deg,var(--violet),var(--baby))';
    status.textContent = (pct>=87) ? 'Cr√≠tico' : (pct>=86) ? 'Aten√ß√£o' : 'OK';
  }
  function resetTo23(msg){ setBar(23); log.textContent = msg || `[${time()}] Desaloca√ß√£o de streams ociosos ‚Üí 23%`; }
  function chanceReset(p){
    if(p>=87){ log.textContent = `[${time()}] picos em buffers de v√≠deo (87%). Reiniciando‚Ä¶`; setTimeout(()=> resetTo23(`[${time()}] Limpeza conclu√≠da ‚Üí 23%`), 1000); return true; }
    const roll=Math.random()*100;
    if(p>=85 && roll<90) { resetTo23(`[${time()}] libera√ß√£o proativa ‚Üí 23%`); return true; }
    if(p>=83 && roll<65) { resetTo23(`[${time()}] flush de segmentos ‚Üí 23%`); return true; }
    if(p>=80 && roll<40) { resetTo23(`[${time()}] compress√£o de trilhas ‚Üí 23%`); return true; }
    if(p>=77 && roll<30) { resetTo23(`[${time()}] ajuste de bitrate ‚Üí 23%`); return true; }
    return false;
  }
  const messages = [
    ()=>`[${time()}] DVRs ativos: ${rand(6,12)} ‚Ä¢ c√¢meras online: ${rand(40,96)}`,
    ()=>`[${time()}] keyframes otimizados ‚Ä¢ GOP=${rand(24,48)} ‚Ä¢ H.265`,
    ()=>`[${time()}] indexa√ß√£o de metadados ok`,
    ()=>`[${time()}] sincroniza√ß√£o NTP ‚úÖ ‚Ä¢ drift ${rand(1,8)}ms`,
    ()=>`[${time()}] limpeza de cache NVR conclu√≠da`
  ];
  setBar(pct);
  setInterval(()=>{ if(chanceReset(pct)) return; const delta = -1.5 + Math.random()*5; setBar(pct+delta); log.textContent = messages[Math.floor(Math.random()*messages.length)](); }, 1400);
})();

/* ============================= AVALIA√á√ïES ‚Äî 3x 5‚≠ê + VER MAIS ============================= */
(function reviewsSection(){
  const elList = document.getElementById('reviews-list');
  const elAvg  = document.getElementById('avg-rating');
  const elLV   = document.getElementById('last-views');
  const elTotal= document.getElementById('total-count');
  if(!elList || !elAvg || !elLV || !elTotal) return;

  // 1) m√©dia e contagem
  elAvg.textContent = '4,7';
  elTotal.textContent = '92';
  Array.from({length:4}, ()=> 4 + Math.floor(Math.random()*16)).forEach(n=>{
    const b = document.createElement('span'); b.className = 'lv'; b.textContent = n; elLV.appendChild(b);
  });

  // 2) tr√™s principais 5 estrelas (com fundos animados)
  const tops = [
    {name:'Mariana Souza', note:5, text:'Entrega acima do esperado. UX caprichada e performance alta. Recomendo!', cls:'aurora'},
    {name:'Jo√£o Henrique', note:5, text:'Automa√ß√£o salvou horas do time. Integra√ß√£o com CRM sem fric√ß√£o.', cls:'blobs'},
    {name:'Bianca Lima',   note:5, text:'Landing converteu muito melhor. √ìtima comunica√ß√£o e documenta√ß√£o.', cls:'waves'},
  ];

  // 3) mais coment√°rios (carregados depois do "ver mais")
  const more = [
    {name:'Lucas Almeida', note:5, text:'C√≥digo limpo e acess√≠vel. PageSpeed excelente.'},
    {name:'Camila Barros', note:5, text:'CFTV com acesso remoto e manual pr√°tico.'},
    {name:'Rafael Costa',  note:5, text:'SEO t√©cnico bem aplicado; subimos no org√¢nico.'},
    {name:'Isabela Ramos', note:5, text:'Componentes reutiliz√°veis aceleraram o projeto.'},
    {name:'Daniel Rocha',  note:5, text:'Dashboard claro, facilitou decis√µes do board.'},
    {name:'Helena Prado',  note:5, text:'Apoio p√≥s-lan√ßamento proativo. Excelente!'},
    {name:'Pedro Nunes',   note:5, text:'Ajustes r√°pidos e precisa aten√ß√£o aos detalhes.'},
    {name:'Aline Duarte',  note:5, text:'Responsividade impec√°vel. Nada quebra.'},
    {name:'Fernando Mota', note:5, text:'Webhooks e ETL est√°veis; menos retrabalho.'}
  ];

  const avatarSVG = `<svg viewBox="0 0 64 64" aria-hidden="true"><circle cx="32" cy="24" r="14" fill="#b9c1d0"/><rect x="12" y="36" width="40" height="22" rx="11" fill="#b9c1d0"/></svg>`;
  function card({name,note,text,cls}){
    const el = document.createElement('article'); el.className='rev'+(cls?(' '+cls):'');
    el.innerHTML = `
      <div class="avatar">${avatarSVG}</div>
      <div>
        <div class="meta">
          <span class="name">${name}</span>
          <span class="stars" style="--score:${note}"></span>
          <span class="tag-note">${note.toFixed(1).replace('.',',')} ‚òÖ</span>
        </div>
        <div class="txt">${text}</div>
      </div>`;
    return el;
  }

  // render 3 tops
  tops.forEach(t=> elList.appendChild(card(t)));

  // "ver mais" card
  const seeMore = document.createElement('button');
  seeMore.className = 'see-more';
  seeMore.type='button';
  seeMore.textContent = 'Ver mais coment√°rios';
  elList.appendChild(seeMore);

  let loaded=false;
  seeMore.addEventListener('click', ()=>{
    if(loaded) return;
    loaded=true;
    more.forEach(m=> elList.appendChild(card(m)));
    seeMore.remove();
  });
})();
</script>
</body>
</html>