<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Projeto 4 ‚Äî Automatiza√ß√µes em Python (E-mail, WhatsApp, C√¢meras, ML)</title>
<style>
/* =================== Design tokens =================== */
:root{
  --bg:#070b16; --fg:#eaf2ff; --muted:#9bb0d3;
  --surface:#10183b; --surface2:#0d1534; --surface3:#0f1a45;
  --line:#1a2550;
  --brand:#7c4dff; --accent:#20d3ff;
  --ok:#19c37d; --warn:#ffd166; --bad:#ff6363;
  --radius:18px; --shadow:0 20px 40px rgba(0,0,0,.25);
}

/* =================== Reset & base =================== */
*{box-sizing:border-box}
html,body{height:100%}
html,body{margin:0; overflow-x:hidden}
img,svg,video{display:block; max-width:100%}
button{font:inherit}
a{color:inherit; text-decoration:none}
:focus-visible{outline:2px solid var(--accent); outline-offset:2px}

body{
  color:var(--fg);
  font:15px ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Arial;
  background:
    radial-gradient(1200px 700px at 10% 10%, rgba(124,77,255,.18), transparent 60%),
    radial-gradient(900px 600px at 90% 90%, rgba(32,211,255,.12), transparent 60%),
    var(--bg);
}
.wrap{max-width:1200px; margin:0 auto; padding:16px 20px; overflow-x:clip}
.section-gap{margin-top:14px}

/* =================== Header =================== */
header{
  position:sticky; top:0; z-index:20;
  backdrop-filter: blur(10px);
  background:rgba(7,11,22,.6);
  border-bottom:1px solid rgba(255,255,255,.06)
}
.head{display:flex; align-items:center; justify-content:space-between; gap:12px; flex-wrap:wrap}
.back{color:#a8b1c8; text-decoration:none; font-weight:700}
.link{
  display:inline-flex; gap:8px; align-items:center;
  padding:10px 14px; border-radius:999px; font-weight:800; color:#0a0f20;
  background:linear-gradient(90deg, var(--brand), var(--accent));
  box-shadow:0 10px 26px rgba(124,77,255,.35);
  position:relative; overflow:hidden;
}
.link, .btn, .cta{animation:breath 2.8s ease-in-out infinite}
@keyframes breath{50%{box-shadow:0 16px 36px rgba(124,77,255,.45)}}

/* =================== Hero =================== */
.hero{
  position:relative;
  display:grid; grid-template-columns:minmax(0,1.05fr) minmax(0,.95fr);
  gap:22px; align-items:center
}
@media (max-width:900px){ .hero{grid-template-columns:1fr} }
#hero-fireflies{position:absolute; inset:-10px -10px 0 -10px; z-index:-1; display:block}
h1{margin:.4rem 0 .6rem; font-size:clamp(28px,5.6vw,46px); line-height:1.05}
.p{color:var(--muted); margin:0}
.cta{
  display:inline-flex; gap:10px; align-items:center;
  padding:12px 16px; border-radius:999px; font-weight:900; color:#0a0f20;
  background:linear-gradient(90deg, var(--brand), var(--accent));
  box-shadow:0 12px 28px rgba(124,77,255,.35);
  position:relative; overflow:hidden; will-change:transform;
}
.cta::after{
  content:""; position:absolute; inset:0;
  background:linear-gradient(120deg, transparent 0%, rgba(255,255,255,.33) 20%, transparent 40%);
  transform:translateX(-120%); transition:transform .8s ease;
}
.cta:hover::after{ transform:translateX(120%) }

/* Orb animado / tilt */
.orb-card{background:var(--surface2); border:1px solid rgba(255,255,255,.07); border-radius:var(--radius); padding:16px; will-change:transform; transform:perspective(800px);}
.orb{width:min(78vmin, 460px); aspect-ratio:1/1; margin:0 auto}

/* =================== KPIs =================== */
.kpis{display:grid; grid-template-columns:repeat(3,minmax(0,1fr)); gap:12px; margin-top:10px}
@media (max-width:720px){ .kpis{grid-template-columns:1fr} }
.card{background:var(--surface2); border:1px solid rgba(255,255,255,.08); border-radius:16px; padding:14px; transition:transform .25s ease}
.card:hover{ transform:translateY(-3px) }
.card .tag{font-size:12px; opacity:.85}
.k{font:700 26px/1 ui-sans-serif,system-ui; display:inline-block}
.k.bump{animation:bump .35s ease}
@keyframes bump{40%{transform:scale(1.14)} 100%{transform:scale(1)}}
.delta{font-size:12px; opacity:.85}
.up{color:var(--ok)} .down{color:var(--bad)}

/* =================== Painel: toggles + terminal =================== */
.panel{display:grid; grid-template-columns:1fr 1fr; gap:12px}
@media (max-width:1100px){ .panel{grid-template-columns:1fr} }
.box{background:var(--surface); border:1px solid rgba(255,255,255,.08); border-radius:16px; padding:14px}
.switches{display:grid; grid-template-columns:repeat(auto-fit,minmax(240px,1fr)); gap:10px; align-items:center}
.toggle{display:flex; align-items:center; gap:10px; background:#0f1740; border:1px solid rgba(255,255,255,.08); padding:10px 12px; border-radius:999px; min-height:44px; position:relative; overflow:hidden}
.toggle input{appearance:none; flex:0 0 46px; width:46px; height:26px; border-radius:999px; background:#1a2550; position:relative; outline:none; cursor:pointer; transition:.25s}
.toggle input:checked{background:linear-gradient(90deg, var(--brand), var(--accent))}
.toggle input::after{content:""; position:absolute; left:3px; top:3px; width:20px; height:20px; border-radius:50%; background:#fff; transition:.25s}
.toggle input:checked::after{transform:translateX(20px)}
.toggle span{flex:1; min-width:0; white-space:nowrap}
.term{font:13px ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace; background:#0b122e; color:#cfe0ff; border:1px solid rgba(255,255,255,.08); border-radius:12px; padding:10px; height:220px; overflow:auto}
.line{white-space:pre}

/* =================== C√¢meras =================== */
.gridcams{display:grid; grid-template-columns:repeat(3,minmax(0,1fr)); gap:10px}
@media (max-width:900px){ .gridcams{grid-template-columns:repeat(2,minmax(0,1fr))} }
@media (max-width:560px){ .gridcams{grid-template-columns:1fr} }
.cam{position:relative; background:#0d1440; border:1px solid rgba(255,255,255,.08); border-radius:12px; aspect-ratio:16/10; overflow:hidden}
.cam::after{content:""; position:absolute; inset:0; background:linear-gradient(120deg, rgba(124,77,255,.18), rgba(32,211,255,.12)); mix-blend-mode:overlay}
.badge{position:absolute; left:8px; top:8px; font-size:12px; padding:6px 8px; border-radius:999px; background:#111b45; border:1px solid rgba(255,255,255,.1)}
.status{position:absolute; right:8px; top:8px; font-size:12px; padding:6px 8px; border-radius:999px; background:#111b45}
.alert{position:absolute; inset:auto 6% 12% auto; width:40%; height:26%; border:2px solid var(--bad); box-shadow:0 0 12px rgba(255,99,99,.6); display:none; animation:pulse 1s ease-in-out infinite}
@keyframes pulse{50%{transform:scale(1.03)}}
.offline{background:#3a436e}

/* scanline + glitch */
.cam .scan{position:absolute; inset:0; background:linear-gradient(180deg, transparent, rgba(255,255,255,.08), transparent); transform:translateY(-100%); animation:scan 4s linear infinite}
@keyframes scan{to{transform:translateY(100%)}}
.cam .noise{position:absolute; inset:0; background-image:repeating-linear-gradient(0deg, rgba(255,255,255,.04) 0px, rgba(255,255,255,.04) 1px, transparent 1px, transparent 2px); mix-blend-mode:overlay; animation:noise 1.6s steps(2) infinite}
@keyframes noise{50%{transform:translateY(-1px)} 100%{transform:translateY(0)}}
/* sonar ping */
.cam .ping{position:absolute; width:14vmin; height:14vmin; border:2px solid rgba(32,211,255,.6); border-radius:50%; left:50%; top:50%; transform:translate(-50%,-50%); animation:ping 1.2s ease-out forwards}
@keyframes ping{from{opacity:.7; transform:translate(-50%,-50%) scale(.25)} to{opacity:0; transform:translate(-50%,-50%) scale(1.6)}}

/* =================== ML charts =================== */
.gridml{display:grid; grid-template-columns:2fr 1fr; gap:12px}
@media (max-width:1100px){ .gridml{grid-template-columns:1fr} }
svg{width:100%; height:100%; display:block}
.chart{background:var(--surface2); border:1px solid rgba(255,255,255,.08); border-radius:16px; padding:12px; min-height:300px; position:relative}
.chart h3{margin:0 0 6px}
.tools{position:absolute; right:10px; top:10px; display:flex; gap:8px}
.tool,.btn{border:none; padding:10px 12px; border-radius:999px; font-weight:800; color:#0a0f20; cursor:pointer; background:linear-gradient(90deg, var(--brand), var(--accent))}

/* =================== Codes (flip) =================== */
.codes{display:grid; grid-template-columns:repeat(3,minmax(0,1fr)); gap:12px}
@media (max-width:1100px){ .codes{grid-template-columns:1fr} }
.flip{perspective:1000px}
.card3d{position:relative; transform-style:preserve-3d; transition: transform .6s; border-radius:16px; overflow:hidden}
.card3d>div{position:absolute; inset:0; padding:14px; background:var(--surface2); border:1px solid rgba(255,255,255,.08); backface-visibility:hidden}
.card3d .back{transform:rotateY(180deg)}
.flip:hover .card3d{transform:rotateY(180deg)}
.copy{position:absolute; right:10px; top:10px}

/* =================== Pipeline =================== */
.pipeline{background:var(--surface2); border:1px solid rgba(255,255,255,.08); border-radius:16px; padding:12px}
.pipegrid{display:grid; gap:12px; grid-template-columns:repeat(5,minmax(0,1fr))}
@media (max-width:1100px){ .pipegrid{grid-template-columns:repeat(2,minmax(0,1fr))} }
@media (max-width:600px){ .pipegrid{grid-template-columns:1fr} }
.step{position:relative; overflow:hidden; background:#0f1740; border:1px solid rgba(255,255,255,.08); border-radius:14px; padding:12px}
.step::after{content:""; position:absolute; inset:0; background:linear-gradient(110deg, transparent 0%, rgba(32,211,255,.15) 45%, transparent 90%); transform:translateX(-120%); animation:runner 3.6s linear infinite}
@keyframes runner{to{transform:translateX(120%)}}
.step h4{margin:0 0 6px}
.note{color:#a8b1c8}

/* =================== Relat√≥rios =================== */
.reports{background:var(--surface2); border:1px solid rgba(255,255,255,.08); border-radius:16px; padding:12px}
table{width:100%; border-collapse:collapse; min-width:680px}
th,td{padding:10px 12px; border-bottom:1px solid rgba(255,255,255,.06); text-align:left; vertical-align:top}
th{background:var(--surface3); position:sticky; top:0}
tr.flash{animation:rowflash .9s ease}
@keyframes rowflash{0%{background:rgba(32,211,255,.15)} 100%{background:transparent}}

/* =================== Tabs + Rob√¥ =================== */
.tabs{background:var(--surface2); border:1px solid rgba(255,255,255,.08); border-radius:16px; padding:12px}
.tabbar{display:flex; gap:8px; flex-wrap:wrap}
.tabbar button{border:none; padding:10px 14px; border-radius:999px; font-weight:800; color:#0a0f20; cursor:pointer; background:#22306a}
.tabbar button.active{background:linear-gradient(90deg, var(--brand), var(--accent))}
.tab-panel{display:none; margin-top:10px}
.tab-panel.active{display:block}
.bot-wrap{display:grid; grid-template-columns:320px 1fr; gap:16px; align-items:center}
@media (max-width:900px){ .bot-wrap{grid-template-columns:1fr} }
#bot{width:100%; height:auto; shape-rendering:geometricPrecision}
#bot .bob, #bot .armL, #bot .armR, #bot .eyes{ transform-box:fill-box; transform-origin:50% 50%; will-change:transform }
@keyframes bob { 0%,100%{ transform:translateY(0) } 50%{ transform:translateY(-6px) } }
@keyframes waveL { 0%,100%{ transform:rotate(10deg) } 50%{ transform:rotate(-6deg) } }
@keyframes waveR { 0%,100%{ transform:rotate(-10deg) } 50%{ transform:rotate(6deg) } }
@keyframes blink { 0%,88%,92%,100%{ transform:scaleY(1) } 90%{ transform:scaleY(0.12) } }
#bot .bob{animation: bob 2.8s ease-in-out infinite}
#bot .armL{animation: waveL 2.4s ease-in-out infinite}
#bot .armR{animation: waveR 2.4s ease-in-out infinite}
#bot .eyes{animation: blink 4s ease-in-out infinite}
#bot .pupils{animation: look 5s ease-in-out infinite}
@keyframes look{0%,100%{transform:translateX(0)} 40%{transform:translateX(5px)} 60%{transform:translateX(-4px)}}

/* =================== Reveal + Toast + Ripple =================== */
.reveal{opacity:0; transform:translateY(18px); transition:.65s ease}
.reveal.on{opacity:1; transform:none}
.toast{position:fixed; left:50%; bottom:22px; transform:translateX(-50%) translateY(20px); background:#08102a; border:1px solid rgba(255,255,255,.1); color:#cfe0ff; border-radius:999px; padding:10px 14px; opacity:0; transition:.35s; z-index:60}
.toast.on{opacity:1; transform:translateX(-50%) translateY(0)}
.ripple{position:absolute; border-radius:50%; transform:translate(-50%,-50%); pointer-events:none; opacity:.35; background:#fff; mix-blend-mode:overlay; animation:r 600ms ease forwards}
@keyframes r{from{width:0;height:0;opacity:.35} to{width:220px;height:220px;opacity:0}}

@media (prefers-reduced-motion:reduce){
  .reveal{transition:none}
  .cam .scan,.cam .noise,.orb-card,.cta::after,.step::after{animation:none}
}
</style>
</head>
<body>
<header>
  <div class="wrap head">
    <a class="back" href="projetos.html">‚Üê Voltar</a>
    <strong>Automatiza√ß√µes em Python ‚Ä¢ Ind√∫stria & Com√©rcio</strong>
    <div class="actions" style="display:flex;gap:8px;flex-wrap:wrap">
      <a class="link" href="subcard4.5.html" title="Abrir CFTV / Relat√≥rios">üìä CFTV (Bot)</a>
      <a class="link" href="subcard4.5.html" title="Relat√≥rios CFTV detalhados">üìù Relat√≥rios CFTV</a>
    </div>
  </div>
</header>

<main class="wrap">
  <!-- HERO com fireflies -->
  <section class="hero section-gap">
    <canvas id="hero-fireflies" aria-hidden="true"></canvas>
    <div>
      <h1>Automatize tarefas repetitivas e ganhe escala</h1>
      <p class="p">Bots de e-mail e WhatsApp, monitoramento de c√¢meras com alertas e modelos de ML para previs√£o e detec√ß√£o de anomalias.</p>
      <p style="margin:14px 0 0; display:flex; gap:8px; flex-wrap:wrap">
        <a class="cta" href="#demo">Ver demonstra√ß√£o ‚Üì</a>
        <a class="cta" href="https://pt.m.wikipedia.org/wiki/Circuito_fechado_de_televis%C3%A3o">Abrir CFTV</a>
        <a class="cta" href="subcard4.5.html">Relat√≥rios CFTV</a>
      </p>

      <div class="kpis" aria-label="Indicadores">
        <div class="card"><div class="tag">E-mails enviados/dia</div><div class="k" id="k1">0</div><div class="delta up" id="d1">‚Äî</div></div>
        <div class="card"><div class="tag">Alertas de c√¢meras</div><div class="k" id="k2">0</div><div class="delta" id="d2">‚Äî</div></div>
        <div class="card"><div class="tag">Tempo economizado</div><div class="k" id="k3">0h</div><div class="delta up" id="d3">‚Äî</div></div>
      </div>
    </div>

    <div class="orb-card" id="orbCard">
      <svg class="orb" viewBox="0 0 200 200" aria-hidden="true">
        <defs>
          <linearGradient id="g" x1="0%" y1="0%" x2="100%" y2="100%">
            <stop offset="0%" stop-color="#7c4dff"/><stop offset="50%" stop-color="#20d3ff"/><stop offset="100%" stop-color="#7c4dff"/>
          </linearGradient>
          <filter id="glow"><feGaussianBlur stdDeviation="2" result="b1"/><feMerge><feMergeNode in="b1"/><feMergeNode in="SourceGraphic"/></feMerge></filter>
        </defs>
        <g filter="url(#glow)" transform-origin="100 100">
          <animateTransform attributeName="transform" type="rotate" from="0 100 100" to="360 100 100" dur="8s" repeatCount="indefinite"/>
          <circle cx="100" cy="100" r="70" fill="none" stroke="url(#g)" stroke-width="20"/>
          <circle cx="100" cy="100" r="70" fill="none" stroke="url(#g)" stroke-width="20" opacity=".55" stroke-dasharray="8 10"/>
        </g>
      </svg>
    </div>
  </section>

  <!-- DEMO -->
  <section id="demo" class="panel section-gap reveal">
    <div class="box">
      <h3 style="margin:0 0 8px">Ative as automa√ß√µes & notifica√ß√µes</h3>
      <div class="switches" role="group" aria-label="Atalhos de automa√ß√£o">
        <label class="toggle"><input id="tg-notify" type="checkbox" checked><span>Ativar notifica√ß√µes</span></label>
        <label class="toggle"><input id="tg-email" type="checkbox" checked><span>Agendador de E-mail</span></label>
        <label class="toggle"><input id="tg-wa" type="checkbox" checked><span>Bot WhatsApp</span></label>
        <label class="toggle"><input id="tg-cam" type="checkbox" checked><span>Monitor de C√¢meras</span></label>
      </div>

      <div class="section-gap" style="display:flex; gap:8px; flex-wrap:wrap">
        <button class="btn" id="exportCfg">Exportar config JSON</button>
        <button class="btn" id="clearLog">Limpar logs</button>
      </div>

      <p class="p" style="margin:10px 0 6px">Logs em tempo real</p>
      <div class="term" id="term" aria-live="polite"></div>
    </div>

    <div class="box">
      <h3 style="margin:0 0 8px">C√¢meras (simula√ß√£o)</h3>
      <div class="gridcams" id="cams" aria-label="C√¢meras simuladas"></div>
    </div>
  </section>

  <!-- ML Charts -->
  <section class="gridml section-gap reveal" aria-label="Modelos de Machine Learning">
    <article class="chart">
      <h3>Previs√£o de demanda (ML)</h3>
      <div class="tools"><button class="tool" id="retrain">Re-treinar</button></div>
      <svg id="ml-line" viewBox="0 0 800 280"></svg>
    </article>
    <article class="chart">
      <h3>Anomalias detectadas</h3>
      <svg id="ml-bars" viewBox="0 0 360 280"></svg>
    </article>
  </section>

  <!-- Snippets -->
  <section class="codes section-gap reveal" aria-label="Snippets de automa√ß√£o (Python)">
    <div class="flip">
      <div class="card3d">
        <div class="front">
          <div class="copy"><button class="tool" data-copy="code-email">Copiar</button></div>
          <h3 style="margin:0 0 6px">E-mail Scheduler</h3>
          <p class="p">Envia relat√≥rios di√°rios com anexos (08:00).</p>
<pre id="code-email" class="term" style="height:180px">
import schedule, smtplib, ssl
from email.message import EmailMessage

def enviar():
    msg = EmailMessage()
    msg["Subject"] = "Relat√≥rio Di√°rio"
    msg["From"] = USER; msg["To"] = DEST
    msg.set_content("Segue o relat√≥rio.")
    context = ssl.create_default_context()
    with smtplib.SMTP_SSL("smtp.gmail.com", 465, context=context) as s:
        s.login(USER, PASS); s.send_message(msg)

schedule.every().day.at("08:00").do(enviar)
while True: schedule.run_pending()</pre>
        </div>
        <div class="back">
          <h3 style="margin:0 0 6px">Boas pr√°ticas</h3>
          <p class="p">Use vari√°veis de ambiente e reintentos exponenciais no SMTP.</p>
        </div>
      </div>
    </div>

    <div class="flip">
      <div class="card3d">
        <div class="front">
          <div class="copy"><button class="tool" data-copy="code-wa">Copiar</button></div>
          <h3 style="margin:0 0 6px">WhatsApp Bot</h3>
          <p class="p">Fila de mensagens + auto-resposta (API oficial).</p>
<pre id="code-wa" class="term" style="height:180px">
from datetime import datetime
from queue import Queue
fila = Queue()

def on_message(msg):
    if "or√ßamento" in msg.text.lower():
        fila.put(("Responder", msg.from_, "Enviei a planilha!"))

def worker():
    while True:
        op, to, text = fila.get()
        # enviar via Cloud API
        print(datetime.now(), "->", to, text)
        fila.task_done()</pre>
        </div>
        <div class="back">
          <h3 style="margin:0 0 6px">Produ√ß√£o</h3>
          <p class="p">Trate limites de taxa, persist√™ncia da fila e m√©tricas.</p>
        </div>
      </div>
    </div>

    <div class="flip">
      <div class="card3d">
        <div class="front">
          <div class="copy"><button class="tool" data-copy="code-cam">Copiar</button></div>
          <h3 style="margin:0 0 6px">Monitor de C√¢meras</h3>
          <p class="p">Detecta travamento & movimento.</p>
<pre id="code-cam" class="term" style="height:180px">
import cv2, time
cap = cv2.VideoCapture(0)
last = None; last_change = time.time()

while True:
    ok, frame = cap.read()
    if not ok: break
    gray = cv2.cvtColor(frame, cv2.COLOR_BGR2GRAY)
    if last is None: last = gray; continue
    diff = cv2.absdiff(gray, last)
    if diff.mean() < 1.5 and (time.time()-last_change)>5:
        print("Alerta: c√¢mera possivelmente travada")
    if diff.mean() > 8: last_change = time.time()
    last = gray</pre>
        </div>
        <div class="back">
          <h3 style="margin:0 0 6px">Escala</h3>
          <p class="p">Workers (Celery), fila (Kafka/RabbitMQ) e alertas.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Pipeline -->
  <section class="pipeline section-gap reveal">
    <h3 style="margin:0 0 8px">Pipeline de automa√ß√£o</h3>
    <div class="pipegrid">
      <div class="step"><h4>Coleta</h4><p class="note">E-mails, WhatsApp, APIs, bancos e c√¢meras.</p></div>
      <div class="step"><h4>Limpeza</h4><p class="note">Normaliza√ß√£o, deduplica√ß√£o, anonimiza√ß√£o.</p></div>
      <div class="step"><h4>Treino</h4><p class="note">Previs√£o e anomalias (scikit-learn).</p></div>
      <div class="step"><h4>Deploy</h4><p class="note">APIs FastAPI, jobs cron, workers Celery.</p></div>
      <div class="step"><h4>Monitoramento</h4><p class="note">M√©tricas, alertas, auditoria, SLO/SLA.</p></div>
    </div>
  </section>

  <!-- Relat√≥rios -->
  <section class="reports section-gap reveal">
    <div style="display:flex;justify-content:space-between;align-items:center;gap:8px;flex-wrap:wrap">
      <h3 style="margin:0">Relat√≥rios de execu√ß√£o</h3>
      <div style="display:flex; gap:8px; flex-wrap:wrap">
        <button class="btn" id="refresh">Atualizar</button>
        <button class="btn" id="exportCsv">Exportar CSV</button>
      </div>
    </div>
    <div style="overflow:auto; margin-top:8px">
      <table id="tbl">
        <thead><tr><th>Data/Hora</th><th>Tipo</th><th>Destino/Canal</th><th>Status</th><th>Mensagem</th></tr></thead>
        <tbody></tbody>
      </table>
    </div>
  </section>

  <!-- Rob√¥ -->
  <section class="tabs section-gap reveal">
    <div class="tabbar"><button class="active" data-tab="bot">ü§ñ Rob√¥ animado</button></div>
    <div id="tab-bot" class="tab-panel active">
      <div class="bot-wrap">
        <svg id="bot" viewBox="0 0 260 200">
          <defs><linearGradient id="bgrad" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" stop-color="#7c4dff"/><stop offset="100%" stop-color="#20d3ff"/></linearGradient></defs>
          <g class="bob">
            <rect x="80" y="70" width="100" height="80" rx="12" fill="url(#bgrad)" opacity=".25"/>
            <rect x="90" y="76" width="80" height="68" rx="10" fill="#0f1740" stroke="url(#bgrad)" stroke-width="2"/>
            <g class="head">
              <rect x="100" y="36" width="60" height="36" rx="10" fill="#0f1740" stroke="url(#bgrad)" stroke-width="2"/>
              <g class="eyes" style="transform-origin:130px 54px">
                <g class="pupils" style="transform-origin:130px 54px">
                  <rect x="114" y="50" width="12" height="8" rx="3" fill="#cfe0ff"/>
                  <rect x="134" y="50" width="12" height="8" rx="3" fill="#cfe0ff"/>
                </g>
              </g>
            </g>
            <g class="armL" style="transform-origin:90px 110px"><rect x="78" y="90" width="12" height="40" rx="6" fill="#0f1740" stroke="url(#bgrad)" stroke-width="2"/></g>
            <g class="armR" style="transform-origin:170px 110px"><rect x="170" y="90" width="12" height="40" rx="6" fill="#0f1740" stroke="url(#bgrad)" stroke-width="2"/></g>
          </g>
          <ellipse cx="130" cy="156" rx="46" ry="8" fill="#0b122e"/>
        </svg>
        <div>
          <h3 style="margin:0 0 6px">Assistente de automa√ß√£o</h3>
          <p class="p">Melhore suas Demandas com Nosso BOT.</p>
        </div>
      </div>
    </div>
  </section>
</main>

<div id="toast" class="toast" role="status" aria-live="polite"></div>

<script>
/* =================== Section reveal =================== */
var IO=new IntersectionObserver(function(e){e.forEach(function(x){if(x.isIntersecting){x.target.classList.add('on'); IO.unobserve(x.target);}})},{threshold:.12});
document.querySelectorAll('.reveal').forEach(function(el){IO.observe(el)});

/* =================== Fireflies (sempre vis√≠vel/m√≥vel) =================== */
(function(){
  var cv=document.getElementById('hero-fireflies'); if(!cv) return; var ctx=cv.getContext('2d');
  function size(){ cv.width=cv.clientWidth; cv.height=Math.max(260, cv.parentElement.clientHeight); }
  size(); addEventListener('resize', size);
  var N=22, f=[];
  for(var i=0;i<N;i++) f.push({x:Math.random()*cv.width,y:Math.random()*cv.height,vx:(Math.random()-.5)*.6,vy:(Math.random()-.5)*.6,s:1.5+Math.random()*1.6,a:Math.random()});
  function tick(){
    ctx.clearRect(0,0,cv.width,cv.height);
    for(var i=0;i<N;i++){
      var p=f[i]; p.x+=p.vx; p.y+=p.vy; p.a+=0.03;
      if(p.x<0||p.x>cv.width) p.vx*=-1;
      if(p.y<0||p.y>cv.height) p.vy*=-1;
      var glow = ctx.createRadialGradient(p.x,p.y,0,p.x,p.y,16);
      glow.addColorStop(0,'rgba(32,211,255,.8)');
      glow.addColorStop(1,'rgba(32,211,255,0)');
      ctx.fillStyle=glow; ctx.beginPath(); ctx.arc(p.x,p.y, 2+p.s*Math.abs(Math.sin(p.a)), 0, Math.PI*2); ctx.fill();
    }
    requestAnimationFrame(tick);
  }
  tick();
})();

/* =================== Orb parallax =================== */
(function(){
  var card=document.getElementById('orbCard'), rect=null;
  function upd(e){
    if(!rect) rect=card.getBoundingClientRect();
    var x=(e.clientX-rect.left)/rect.width-.5;
    var y=(e.clientY-rect.top)/rect.height-.5;
    card.style.transform='perspective(800px) rotateY('+(x*6)+'deg) rotateX('+(-y*6)+'deg)';
  }
  function reset(){ card.style.transform='perspective(800px) rotateY(0) rotateX(0)'; rect=null; }
  card.addEventListener('mousemove',upd); card.addEventListener('mouseleave',reset);
})();

/* =================== Ripple + toast =================== */
(function(){
  function ripple(e){
    var b=e.currentTarget, r=document.createElement('span'); r.className='ripple';
    var rect=b.getBoundingClientRect(); r.style.left=(e.clientX-rect.left)+'px'; r.style.top=(e.clientY-rect.top)+'px';
    b.appendChild(r); setTimeout(function(){r.remove()},620);
  }
  document.querySelectorAll('.btn,.link,.cta,.toggle').forEach(function(el){el.addEventListener('click',ripple)});
})();
function toast(msg){var t=document.getElementById('toast');t.textContent=msg; t.classList.add('on'); setTimeout(function(){t.classList.remove('on')},1600);}

/* =================== KPIs counters + bounce =================== */
function animateNum(el, target, fmt){ var t0=performance.now(), d=900;
  function tick(T){ var p=Math.min(1,(T-t0)/d), v=target*(0.15+0.85*Math.pow(p,0.85));
    el.textContent = (fmt?fmt(v):Math.round(v));
    if(p<1) requestAnimationFrame(tick); else { el.classList.remove('bump'); void el.offsetWidth; el.classList.add('bump'); }
  } requestAnimationFrame(tick);
}
animateNum(document.getElementById('k1'),512);
animateNum(document.getElementById('k2'),28);
animateNum(document.getElementById('k3'),22, function(v){return Math.round(v)+'h'});
document.getElementById('d1').textContent='‚ñ≤ +18% vs semana passada';
document.getElementById('d2').textContent='OK ‚Ä¢ m√©dia 2/min';
document.getElementById('d3').textContent='‚ñ≤ +6h/sem';

/* =================== Logs + Toggles =================== */
var term=document.getElementById('term');
function logLine(t){var d=new Date(),h=d.toTimeString().slice(0,8);var el=document.createElement('div');el.className='line';el.textContent=h+'  '+t;term.appendChild(el);term.scrollTop=term.scrollHeight;}
['Notifica√ß√µes ativadas (push/email)','E-mail: agendador iniciado (08:00 di√°rio)','WhatsApp: bot online (fila conectada)','C√¢meras: monitoramento ativo','E-mail: relat√≥rio enviado para diretoria (status=OK)'].forEach(logLine);
document.getElementById('clearLog').onclick=function(){term.innerHTML=''; logLine('Logs limpos');};

var timers={};
function start(name,fn,ms){ stop(name); timers[name]=setInterval(fn,ms); }
function stop(name){ if(timers[name]){clearInterval(timers[name]); delete timers[name];} }

var tgNotify=document.getElementById('tg-notify'), tgEmail=document.getElementById('tg-email'), tgWA=document.getElementById('tg-wa'), tgCam=document.getElementById('tg-cam');
function startEmail(){start('email',function(){logLine('E-mail: boletim di√°rio enviado (OK)')},4000)}
function startWA(){start('wa',function(){logLine('WhatsApp: resposta autom√°tica enviada (SLA 12s)')},3800)}
function startCam(){start('cam',simulateCam,1400)}
tgNotify.onchange=function(e){logLine(e.target.checked?'Notifica√ß√µes ativadas (push/email)':'Notifica√ß√µes desativadas')}
tgEmail.onchange=function(e){e.target.checked?(logLine('E-mail: agendador iniciado'),startEmail()):(stop('email'),logLine('E-mail: pausado'))}
tgWA.onchange=function(e){e.target.checked?(logLine('WhatsApp: bot online'),startWA()):(stop('wa'),logLine('WhatsApp: pausado'))}
tgCam.onchange=function(e){e.target.checked?(logLine('C√¢meras: monitoramento ativo'),startCam()):(stop('cam'),logLine('C√¢meras: pausado'))}

/* =================== C√¢meras (simula√ß√£o) =================== */
var camsEl=document.getElementById('cams'); var cams=Array.from({length:6}).map(function(_,i){return {id:i};});
camsEl.innerHTML=cams.map(function(c){return '<div class="cam" data-id="'+c.id+'"><span class="badge">CAM '+(c.id+1)+'</span><span class="status">OK</span><div class="alert"></div><div class="scan"></div><div class="noise"></div></div>';}).join('');
function ping(node){var p=document.createElement('div'); p.className='ping'; node.appendChild(p); setTimeout(function(){p.remove()},1200);}
function simulateCam(){
  var i=Math.floor(Math.random()*cams.length); var box=camsEl.querySelector('.cam[data-id="'+i+'"]');
  if(Math.random()<0.36){ box.querySelector('.alert').style.display='block'; box.querySelector('.status').textContent='MOV'; ping(box); logLine('C√¢meras: movimento detectado na CAM '+(i+1)); setTimeout(function(){box.querySelector('.alert').style.display='none'; box.querySelector('.status').textContent='OK'},2400); }
  if(Math.random()<0.14){ box.classList.add('offline'); box.querySelector('.status').textContent='OFF'; logLine('C√¢meras: CAM '+(i+1)+' offline (reconectando)'); setTimeout(function(){box.classList.remove('offline'); box.querySelector('.status').textContent='OK'; logLine('C√¢meras: CAM '+(i+1)+' reconectada')},3000); }
}

/* =================== ML charts (SVG) =================== */
function elt(n,a,t){var e=document.createElementNS('http://www.w3.org/2000/svg',n); for(var k in a) e.setAttribute(k,a[k]); if(t) e.textContent=t; return e;}
function lineChart(svg){
  svg.innerHTML=''; var W=800,H=260,P=36; var g=elt('g',{transform:'translate(0,10)'}); svg.appendChild(g);
  var n=24; var data=Array.from({length:n},function(_,i){return i<18?120+Math.sin(i/3)*12+i*2:120+Math.sin(i/3)*12+i*2+(i-17)*3});
  var x=function(i){return P+i*((W-P*2)/(n-1))}; var max=Math.max.apply(null,data)+20; var y=function(v){return H-P-(v/max)*(H-P*2)};
  for(var i=0;i<=4;i++){ var yv=P+i*(H-P*2)/4; g.appendChild(elt('line',{x1:P,y1:yv,x2:W-P,y2:yv,stroke:'#213061'})); }
  var histPts=data.slice(0,18).map(function(d,i){return x(i)+','+y(d)}).join(' ');
  var p1=elt('polyline',{points:histPts,fill:'none',stroke:'#40e0ff','stroke-width':3,'stroke-linecap':'round','stroke-linejoin':'round'}); g.appendChild(p1);
  var futPts=data.slice(17).map(function(d,i){return x(i+17)+','+y(d)}).join(' ');
  var p2=elt('polyline',{points:futPts,fill:'none',stroke:'#7c4dff','stroke-width':3,'stroke-dasharray':'6 6'}); g.appendChild(p2);
  [p1,p2].forEach(function(p){var L=1200; p.style.strokeDasharray=L; p.style.strokeDashoffset=L; requestAnimationFrame(function(){p.style.transition='stroke-dashoffset .9s ease'; p.style.strokeDashoffset='0';});});
}
function barChart(svg){
  svg.innerHTML=''; var W=360,H=260,P=36; var g=elt('g',{transform:'translate(0,10)'}); svg.appendChild(g);
  var cats=['Rede','Energia','Porta','Temperatura','Intrus√£o'], vals=[3,1,4,2,6]; var y0=H-P; var bw=(W-P*2)/cats.length*.7; var max=Math.max.apply(null,vals)+1;
  cats.forEach(function(c,i){
    var h=(vals[i]/max)*(H-P*2); var x=P+i*((W-P*2)/cats.length)+((W-P*2)/cats.length-bw)/2;
    var r=elt('rect',{x:x,y:y0-h,width:bw,height:h,rx:6,fill:'#ff71c6'}); r.style.height='0'; r.setAttribute('y',y0); g.appendChild(r);
    requestAnimationFrame(function(){r.style.transition='height .6s ease, y .6s ease'; r.setAttribute('y',y0-h); r.style.height=h+'px';});
    g.appendChild(elt('text',{x:x+bw/2,y:y0+16,'text-anchor':'middle',fill:'#a8b1c8','font-size':12},c));
  });
}
lineChart(document.getElementById('ml-line'));
barChart(document.getElementById('ml-bars'));
document.getElementById('retrain').addEventListener('click',function(){logLine('ML: re-treinando modelo‚Ä¶'); setTimeout(function(){logLine('ML: novo modelo em produ√ß√£o (MAPE 7.8%)'); lineChart(document.getElementById('ml-line'));},1200);});

/* =================== Relat√≥rios =================== */
var tbody=document.querySelector('#tbl tbody');
var reports=[
  {ts:new Date().toLocaleString(), tipo:'E-mail', canal:'Diretoria', status:'OK', msg:'Boletim di√°rio (4 anexos)'},
  {ts:new Date(Date.now()-3*60*1000).toLocaleString(), tipo:'WhatsApp', canal:'Suporte', status:'OK', msg:'Resposta autom√°tica: SLA 12s'},
  {ts:new Date(Date.now()-8*60*1000).toLocaleString(), tipo:'C√¢meras', canal:'CAM 2', status:'MOV', msg:'Movimento na doca'},
  {ts:new Date(Date.now()-12*60*1000).toLocaleString(), tipo:'C√¢meras', canal:'CAM 5', status:'OFF/OK', msg:'Queda e reconex√£o'},
  {ts:new Date(Date.now()-20*60*1000).toLocaleString(), tipo:'E-mail', canal:'Comercial', status:'OK', msg:'Relat√≥rio de leads'}
];
function renderReports(){tbody.innerHTML=reports.map(function(r,i){return '<tr class="'+(i===0?'flash':'')+'"><td>'+r.ts+'</td><td>'+r.tipo+'</td><td>'+r.canal+'</td><td>'+r.status+'</td><td>'+r.msg+'</td></tr>';}).join('')}
renderReports();
document.getElementById('refresh').onclick=function(){reports.unshift({ts:new Date().toLocaleString(), tipo:'WhatsApp', canal:'Vendas', status:'OK', msg:'Follow-up enviado'}); renderReports(); logLine('Relat√≥rios: atualizado'); animateNum(document.getElementById('k2'), 28+Math.floor(Math.random()*6));}
document.getElementById('exportCsv').onclick=function(){
  var header='data_hora,tipo,canal,status,mensagem\n';
  var rows=reports.map(function(r){return [r.ts,r.tipo,r.canal,r.status,r.msg].map(function(s){return '"'+String(s).replace(/"/g,'""')+'"'}).join(',')}).join('\n');
  var blob=new Blob([header+rows],{type:'text/csv;charset=utf-8;'}); var a=document.createElement('a'); a.href=URL.createObjectURL(blob); a.download='relatorios.csv'; a.click(); toast('CSV exportado');
}

/* =================== Exportar config =================== */
document.getElementById('exportCfg').onclick=function(){
  var cfg={notify:tgNotify.checked,email:{enabled:tgEmail.checked,schedule:'08:00',smtp:'smtp.gmail.com'},whatsapp:{enabled:tgWA.checked,provider:'Cloud API',sla_sec:12},cameras:{enabled:tgCam.checked,detect_motion:true,freeze_watch:true},ml:{forecast:true,anomalies:true}};
  var blob=new Blob([JSON.stringify(cfg,null,2)],{type:'application/json'}); var a=document.createElement('a'); a.href=URL.createObjectURL(blob); a.download='config-automatizacoes.json'; a.click(); toast('Config JSON exportada');
}

/* start simuladores */
startEmail(); startWA(); startCam();
</script>
</body>
</html>